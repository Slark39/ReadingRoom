{"version":3,"file":"static/js/7775.43383aa9.chunk.js","mappings":"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","sources":["../node_modules/@binance-chain/bsc-use-wallet/node_modules/ethereumjs-tx/es5/index.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/@portis/web3-provider-engine/util/stoplight.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/@portis/web3-provider-engine/util/random-id.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/@portis/web3-provider-engine/util/create-payload.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/@portis/web3-provider-engine/index.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/@portis/web3-provider-engine/subproviders/subprovider.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/@portis/web3-provider-engine/subproviders/json-rpc-engine-middleware.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/@portis/eth-json-rpc-middleware/cache-utils.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/@portis/eth-json-rpc-middleware/block-cache.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/@portis/web3-provider-engine/subproviders/cache.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/@portis/web3-provider-engine/subproviders/fixture.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/@portis/web3-provider-engine/subproviders/filters.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/@portis/web3-provider-engine/subproviders/hooked-wallet.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/@portis/web3-provider-engine/util/estimate-gas.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/@portis/web3-provider-engine/subproviders/nonce-tracker.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/@portis/web3-provider-engine/util/rpc-cache-utils.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/@portis/web3-provider-engine/subproviders/subscriptions.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/penpal/lib/index.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/@portis/web3/es/networks.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/@portis/web3/es/utils/getTxGas.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/@portis/web3/es/utils/query.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/@portis/web3/es/utils/onWindowLoad.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/pocket-js-core/src/models/blockchain.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/axios/lib/helpers/bind.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/axios/lib/utils.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/axios/node_modules/is-buffer/index.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/axios/lib/core/createError.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/axios/lib/core/enhanceError.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/axios/lib/helpers/buildURL.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/axios/lib/helpers/cookies.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/axios/lib/defaults.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/axios/lib/adapters/xhr.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/axios/lib/core/settle.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/axios/lib/helpers/normalizeHeaderName.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/axios/lib/core/InterceptorManager.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/axios/lib/core/transformData.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/axios/lib/cancel/isCancel.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/axios/lib/core/dispatchRequest.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/axios/lib/helpers/combineURLs.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/axios/lib/core/Axios.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/axios/lib/cancel/Cancel.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/axios/lib/cancel/CancelToken.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/axios/lib/axios.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/axios/lib/helpers/spread.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/axios/index.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/pocket-js-core/src/utils/constants.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/pocket-js-core/src/models/node.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/pocket-js-core/src/models/dispatch.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/pocket-js-core/src/models/relay.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/pocket-js-core/src/models/report.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/pocket-js-core/src/models/wallet.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/pocket-js-core/src/models/index.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/pocket-js-core/src/pocket.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/pocket-js-core/src/index.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/@portis/web3/es/index.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/@portis/web3/es/utils/secureOrigin.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/@portis/web3/es/styles.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/jsonify/lib/parse.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/jsonify/lib/stringify.js","../node_modules/@binance-chain/bsc-use-wallet/node_modules/json-stable-stringify/index.js"],"sourcesContent":["'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ethUtil = require('ethereumjs-util');\nvar fees = require('ethereum-common/params.json');\nvar BN = ethUtil.BN;\n\n// secp256k1n/2\nvar N_DIV_2 = new BN('7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0', 16);\n\n/**\n * Creates a new transaction object.\n *\n * @example\n * var rawTx = {\n *   nonce: '00',\n *   gasPrice: '09184e72a000',\n *   gasLimit: '2710',\n *   to: '0000000000000000000000000000000000000000',\n *   value: '00',\n *   data: '7f7465737432000000000000000000000000000000000000000000000000000000600057',\n *   v: '1c',\n *   r: '5e1d3a76fbf824220eafc8c79ad578ad2b67d01b0c2425eb1f1347e8f50882ab',\n *   s: '5bd428537f05f9830e93792f90ea6a3e2d1ee84952dd96edbae9f658f831ab13'\n * };\n * var tx = new Transaction(rawTx);\n *\n * @class\n * @param {Buffer | Array | Object} data a transaction can be initiailized with either a buffer containing the RLP serialized transaction or an array of buffers relating to each of the tx Properties, listed in order below in the exmple.\n *\n * Or lastly an Object containing the Properties of the transaction like in the Usage example.\n *\n * For Object and Arrays each of the elements can either be a Buffer, a hex-prefixed (0x) String , Number, or an object with a toBuffer method such as Bignum\n *\n * @property {Buffer} raw The raw rlp encoded transaction\n * @param {Buffer} data.nonce nonce number\n * @param {Buffer} data.gasLimit transaction gas limit\n * @param {Buffer} data.gasPrice transaction gas price\n * @param {Buffer} data.to to the to address\n * @param {Buffer} data.value the amount of ether sent\n * @param {Buffer} data.data this will contain the data of the message or the init of a contract\n * @param {Buffer} data.v EC signature parameter\n * @param {Buffer} data.r EC signature parameter\n * @param {Buffer} data.s EC recovery ID\n * @param {Number} data.chainId EIP 155 chainId - mainnet: 1, ropsten: 3\n * */\n\nvar Transaction = function () {\n  function Transaction(data) {\n    _classCallCheck(this, Transaction);\n\n    data = data || {};\n    // Define Properties\n    var fields = [{\n      name: 'nonce',\n      length: 32,\n      allowLess: true,\n      default: new Buffer([])\n    }, {\n      name: 'gasPrice',\n      length: 32,\n      allowLess: true,\n      default: new Buffer([])\n    }, {\n      name: 'gasLimit',\n      alias: 'gas',\n      length: 32,\n      allowLess: true,\n      default: new Buffer([])\n    }, {\n      name: 'to',\n      allowZero: true,\n      length: 20,\n      default: new Buffer([])\n    }, {\n      name: 'value',\n      length: 32,\n      allowLess: true,\n      default: new Buffer([])\n    }, {\n      name: 'data',\n      alias: 'input',\n      allowZero: true,\n      default: new Buffer([])\n    }, {\n      name: 'v',\n      allowZero: true,\n      default: new Buffer([0x1c])\n    }, {\n      name: 'r',\n      length: 32,\n      allowZero: true,\n      allowLess: true,\n      default: new Buffer([])\n    }, {\n      name: 's',\n      length: 32,\n      allowZero: true,\n      allowLess: true,\n      default: new Buffer([])\n    }];\n\n    /**\n     * Returns the rlp encoding of the transaction\n     * @method serialize\n     * @return {Buffer}\n     * @memberof Transaction\n     * @name serialize\n     */\n    // attached serialize\n    ethUtil.defineProperties(this, fields, data);\n\n    /**\n     * @property {Buffer} from (read only) sender address of this transaction, mathematically derived from other parameters.\n     * @name from\n     * @memberof Transaction\n     */\n    Object.defineProperty(this, 'from', {\n      enumerable: true,\n      configurable: true,\n      get: this.getSenderAddress.bind(this)\n    });\n\n    // calculate chainId from signature\n    var sigV = ethUtil.bufferToInt(this.v);\n    var chainId = Math.floor((sigV - 35) / 2);\n    if (chainId < 0) chainId = 0;\n\n    // set chainId\n    this._chainId = chainId || data.chainId || 0;\n    this._homestead = true;\n  }\n\n  /**\n   * If the tx's `to` is to the creation address\n   * @return {Boolean}\n   */\n\n\n  Transaction.prototype.toCreationAddress = function toCreationAddress() {\n    return this.to.toString('hex') === '';\n  };\n\n  /**\n   * Computes a sha3-256 hash of the serialized tx\n   * @param {Boolean} [includeSignature=true] whether or not to inculde the signature\n   * @return {Buffer}\n   */\n\n\n  Transaction.prototype.hash = function hash(includeSignature) {\n    if (includeSignature === undefined) includeSignature = true;\n\n    // EIP155 spec:\n    // when computing the hash of a transaction for purposes of signing or recovering,\n    // instead of hashing only the first six elements (ie. nonce, gasprice, startgas, to, value, data),\n    // hash nine elements, with v replaced by CHAIN_ID, r = 0 and s = 0\n\n    var items = void 0;\n    if (includeSignature) {\n      items = this.raw;\n    } else {\n      if (this._chainId > 0) {\n        var raw = this.raw.slice();\n        this.v = this._chainId;\n        this.r = 0;\n        this.s = 0;\n        items = this.raw;\n        this.raw = raw;\n      } else {\n        items = this.raw.slice(0, 6);\n      }\n    }\n\n    // create hash\n    return ethUtil.rlphash(items);\n  };\n\n  /**\n   * returns the public key of the sender\n   * @return {Buffer}\n   */\n\n\n  Transaction.prototype.getChainId = function getChainId() {\n    return this._chainId;\n  };\n\n  /**\n   * returns the sender's address\n   * @return {Buffer}\n   */\n\n\n  Transaction.prototype.getSenderAddress = function getSenderAddress() {\n    if (this._from) {\n      return this._from;\n    }\n    var pubkey = this.getSenderPublicKey();\n    this._from = ethUtil.publicToAddress(pubkey);\n    return this._from;\n  };\n\n  /**\n   * returns the public key of the sender\n   * @return {Buffer}\n   */\n\n\n  Transaction.prototype.getSenderPublicKey = function getSenderPublicKey() {\n    if (!this._senderPubKey || !this._senderPubKey.length) {\n      if (!this.verifySignature()) throw new Error('Invalid Signature');\n    }\n    return this._senderPubKey;\n  };\n\n  /**\n   * Determines if the signature is valid\n   * @return {Boolean}\n   */\n\n\n  Transaction.prototype.verifySignature = function verifySignature() {\n    var msgHash = this.hash(false);\n    // All transaction signatures whose s-value is greater than secp256k1n/2 are considered invalid.\n    if (this._homestead && new BN(this.s).cmp(N_DIV_2) === 1) {\n      return false;\n    }\n\n    try {\n      var v = ethUtil.bufferToInt(this.v);\n      if (this._chainId > 0) {\n        v -= this._chainId * 2 + 8;\n      }\n      this._senderPubKey = ethUtil.ecrecover(msgHash, v, this.r, this.s);\n    } catch (e) {\n      return false;\n    }\n\n    return !!this._senderPubKey;\n  };\n\n  /**\n   * sign a transaction with a given a private key\n   * @param {Buffer} privateKey\n   */\n\n\n  Transaction.prototype.sign = function sign(privateKey) {\n    var msgHash = this.hash(false);\n    var sig = ethUtil.ecsign(msgHash, privateKey);\n    if (this._chainId > 0) {\n      sig.v += this._chainId * 2 + 8;\n    }\n    Object.assign(this, sig);\n  };\n\n  /**\n   * The amount of gas paid for the data in this tx\n   * @return {BN}\n   */\n\n\n  Transaction.prototype.getDataFee = function getDataFee() {\n    var data = this.raw[5];\n    var cost = new BN(0);\n    for (var i = 0; i < data.length; i++) {\n      data[i] === 0 ? cost.iaddn(fees.txDataZeroGas.v) : cost.iaddn(fees.txDataNonZeroGas.v);\n    }\n    return cost;\n  };\n\n  /**\n   * the minimum amount of gas the tx must have (DataFee + TxFee + Creation Fee)\n   * @return {BN}\n   */\n\n\n  Transaction.prototype.getBaseFee = function getBaseFee() {\n    var fee = this.getDataFee().iaddn(fees.txGas.v);\n    if (this._homestead && this.toCreationAddress()) {\n      fee.iaddn(fees.txCreation.v);\n    }\n    return fee;\n  };\n\n  /**\n   * the up front amount that an account must have for this transaction to be valid\n   * @return {BN}\n   */\n\n\n  Transaction.prototype.getUpfrontCost = function getUpfrontCost() {\n    return new BN(this.gasLimit).imul(new BN(this.gasPrice)).iadd(new BN(this.value));\n  };\n\n  /**\n   * validates the signature and checks to see if it has enough gas\n   * @param {Boolean} [stringError=false] whether to return a string with a dscription of why the validation failed or return a Bloolean\n   * @return {Boolean|String}\n   */\n\n\n  Transaction.prototype.validate = function validate(stringError) {\n    var errors = [];\n    if (!this.verifySignature()) {\n      errors.push('Invalid Signature');\n    }\n\n    if (this.getBaseFee().cmp(new BN(this.gasLimit)) > 0) {\n      errors.push(['gas limit is too low. Need at least ' + this.getBaseFee()]);\n    }\n\n    if (stringError === undefined || stringError === false) {\n      return errors.length === 0;\n    } else {\n      return errors.join(' ');\n    }\n  };\n\n  return Transaction;\n}();\n\nmodule.exports = Transaction;","const EventEmitter = require('events').EventEmitter\nconst inherits = require('util').inherits\n\nmodule.exports = Stoplight\n\n\ninherits(Stoplight, EventEmitter)\n\nfunction Stoplight(){\n  const self = this\n  EventEmitter.call(self)\n  self.isLocked = true\n}\n\nStoplight.prototype.go = function(){\n  const self = this\n  self.isLocked = false\n  self.emit('unlock')\n}\n\nStoplight.prototype.stop = function(){\n  const self = this\n  self.isLocked = true\n  self.emit('lock')\n}\n\nStoplight.prototype.await = function(fn){\n  const self = this\n  if (self.isLocked) {\n    self.once('unlock', fn)\n  } else {\n    setTimeout(fn)\n  }\n}","// gotta keep it within MAX_SAFE_INTEGER\nconst extraDigits = 3\n\nmodule.exports = createRandomId\n\n\nfunction createRandomId(){\n  // 13 time digits\n  var datePart = new Date().getTime()*Math.pow(10, extraDigits)\n  // 3 random digits\n  var extraPart = Math.floor(Math.random()*Math.pow(10, extraDigits))\n  // 16 digits\n  return datePart+extraPart\n}","const getRandomId = require('./random-id.js')\nconst extend = require('xtend')\n\nmodule.exports = createPayload\n\n\nfunction createPayload(data){\n  return extend({\n    // defaults\n    id: getRandomId(),\n    jsonrpc: '2.0',\n    params: [],\n    // user-specified\n  }, data)\n}\n","const EventEmitter = require('events').EventEmitter\nconst inherits = require('util').inherits\nconst ethUtil = require('ethereumjs-util')\nconst EthBlockTracker = require('eth-block-tracker')\nconst map = require('async/map')\nconst eachSeries = require('async/eachSeries')\nconst Stoplight = require('./util/stoplight.js')\nconst cacheUtils = require('./util/rpc-cache-utils.js')\nconst createPayload = require('./util/create-payload.js')\nconst noop = function(){}\n\nmodule.exports = Web3ProviderEngine\n\n\ninherits(Web3ProviderEngine, EventEmitter)\n\n// fix for web3.js\nObject.defineProperty(Web3ProviderEngine, 'name', { value: 'HttpProvider' })\n\nfunction Web3ProviderEngine(opts) {\n  const self = this\n  EventEmitter.call(self)\n  self.setMaxListeners(30)\n  // parse options\n  opts = opts || {}\n\n  // block polling\n  const directProvider = { sendAsync: self._handleAsync.bind(self) }\n  const blockTrackerProvider = opts.blockTrackerProvider || directProvider\n  self._blockTracker = opts.blockTracker || new EthBlockTracker({\n    provider: blockTrackerProvider,\n    pollingInterval: opts.pollingInterval || 4000,\n    setSkipCacheFlag: true,\n  })\n\n  // set initialization blocker\n  self._ready = new Stoplight()\n\n  // local state\n  self.currentBlock = null\n  self._providers = []\n}\n\n// public\n\nWeb3ProviderEngine.prototype.start = function(cb = noop){\n  const self = this\n\n  // trigger start\n  self._ready.go()\n\n  // on new block, request block body and emit as events\n  self._blockTracker.on('latest', (blockNumber) => {\n    // get block body\n    self._getBlockByNumber(blockNumber, (err, block) => {\n      if (err) {\n        this.emit('error', err)\n        return\n      }\n      if (!block) {\n        return\n      }\n      const bufferBlock = toBufferBlock(block)\n      // set current + emit \"block\" event\n      self._setCurrentBlock(bufferBlock)\n      // emit other events\n      self.emit('rawBlock', block)\n      self.emit('latest', block)\n    })\n  })\n\n  // forward other events\n  self._blockTracker.on('sync', self.emit.bind(self, 'sync'))\n  self._blockTracker.on('error', self.emit.bind(self, 'error'))\n\n  // update state\n  self._running = true\n  // signal that we started\n  self.emit('start')\n}\n\nWeb3ProviderEngine.prototype.stop = function(){\n  const self = this\n  // stop block polling by removing event listeners\n  self._blockTracker.removeAllListeners()\n  // update state\n  self._running = false\n  // signal that we stopped\n  self.emit('stop')\n}\n\nWeb3ProviderEngine.prototype.isRunning = function(){\n  const self = this\n  return self._running\n}\n\nWeb3ProviderEngine.prototype.addProvider = function(source, index){\n  const self = this\n  if (typeof index === 'number') {\n    self._providers.splice(index, 0, source)\n  } else {\n    self._providers.push(source)\n  }\n  source.setEngine(this)\n}\n\nWeb3ProviderEngine.prototype.removeProvider = function(source){\n  const self = this\n  const index = self._providers.indexOf(source)\n  if (index < 0) throw new Error('Provider not found.')\n  self._providers.splice(index, 1)\n}\n\nWeb3ProviderEngine.prototype.send = function(payload){\n  throw new Error('Web3ProviderEngine does not support synchronous requests.')\n}\n\nWeb3ProviderEngine.prototype.sendAsync = function(payload, cb){\n  const self = this\n  self._ready.await(function(){\n\n    if (Array.isArray(payload)) {\n      // handle batch\n      map(payload, self._handleAsync.bind(self), cb)\n    } else {\n      // handle single\n      self._handleAsync(payload, cb)\n    }\n\n  })\n}\n\n// private\n\nWeb3ProviderEngine.prototype._getBlockByNumber = function(blockNumber, cb) {\n  const req = createPayload({ method: 'eth_getBlockByNumber', params: [blockNumber, false], skipCache: true })\n  this._handleAsync(req, (err, res) => {\n    if (err) return cb(err)\n    return cb(null, res.result)\n  })\n}\n\nWeb3ProviderEngine.prototype._handleAsync = function(payload, finished) {\n  var self = this\n  var currentProvider = -1\n  var result = null\n  var error = null\n\n  var stack = []\n\n  next()\n\n  function next(after) {\n    currentProvider += 1\n    stack.unshift(after)\n\n    // Bubbled down as far as we could go, and the request wasn't\n    // handled. Return an error.\n    if (currentProvider >= self._providers.length) {\n      end(new Error('Request for method \"' + payload.method + '\" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'))\n    } else {\n      try {\n        var provider = self._providers[currentProvider]\n        provider.handleRequest(payload, next, end)\n      } catch (e) {\n        end(e)\n      }\n    }\n  }\n\n  function end(_error, _result) {\n    error = _error\n    result = _result\n\n    eachSeries(stack, function(fn, callback) {\n\n      if (fn) {\n        fn(error, result, callback)\n      } else {\n        callback()\n      }\n    }, function() {\n\n      var resultObj = {\n        id: payload.id,\n        jsonrpc: payload.jsonrpc,\n        result: result\n      }\n\n      if (error != null) {\n        resultObj.error = {\n          message: error.stack || error.message || error,\n          code: -32000\n        }\n        // respond with both error formats\n        finished(error, resultObj)\n      } else {\n        finished(null, resultObj)\n      }\n    })\n  }\n}\n\n//\n// from remote-data\n//\n\nWeb3ProviderEngine.prototype._setCurrentBlock = function(block){\n  const self = this\n  self.currentBlock = block\n  self.emit('block', block)\n}\n\n// util\n\nfunction toBufferBlock (jsonBlock) {\n  return {\n    number:           ethUtil.toBuffer(jsonBlock.number),\n    hash:             ethUtil.toBuffer(jsonBlock.hash),\n    parentHash:       ethUtil.toBuffer(jsonBlock.parentHash),\n    nonce:            ethUtil.toBuffer(jsonBlock.nonce),\n    mixHash:          ethUtil.toBuffer(jsonBlock.mixHash),\n    sha3Uncles:       ethUtil.toBuffer(jsonBlock.sha3Uncles),\n    logsBloom:        ethUtil.toBuffer(jsonBlock.logsBloom),\n    transactionsRoot: ethUtil.toBuffer(jsonBlock.transactionsRoot),\n    stateRoot:        ethUtil.toBuffer(jsonBlock.stateRoot),\n    receiptsRoot:     ethUtil.toBuffer(jsonBlock.receiptRoot || jsonBlock.receiptsRoot),\n    miner:            ethUtil.toBuffer(jsonBlock.miner),\n    difficulty:       ethUtil.toBuffer(jsonBlock.difficulty),\n    totalDifficulty:  ethUtil.toBuffer(jsonBlock.totalDifficulty),\n    size:             ethUtil.toBuffer(jsonBlock.size),\n    extraData:        ethUtil.toBuffer(jsonBlock.extraData),\n    gasLimit:         ethUtil.toBuffer(jsonBlock.gasLimit),\n    gasUsed:          ethUtil.toBuffer(jsonBlock.gasUsed),\n    timestamp:        ethUtil.toBuffer(jsonBlock.timestamp),\n    transactions:     jsonBlock.transactions,\n  }\n}\n","const createPayload = require('../util/create-payload.js')\n\nmodule.exports = SubProvider\n\n// this is the base class for a subprovider -- mostly helpers\n\n\nfunction SubProvider() {\n\n}\n\nSubProvider.prototype.setEngine = function(engine) {\n  const self = this\n  if (self.engine) return\n  self.engine = engine\n  engine.on('block', function(block) {\n    self.currentBlock = block\n  })\n\n  engine.on('start', function () {\n    self.start()\n  })\n\n  engine.on('stop', function () {\n    self.stop()\n  })\n}\n\nSubProvider.prototype.handleRequest = function(payload, next, end) {\n  throw new Error('Subproviders should override `handleRequest`.')\n}\n\nSubProvider.prototype.emitPayload = function(payload, cb){\n  const self = this\n  self.engine.sendAsync(createPayload(payload), cb)\n}\n\n// dummies for overriding\n\nSubProvider.prototype.stop = function () {}\n\nSubProvider.prototype.start = function () {}\n","const Subprovider = require('./subprovider.js')\n\n// wraps a json-rpc-engine middleware in a subprovider interface\n\nclass JsonRpcEngineMiddlewareSubprovider extends Subprovider {\n\n  // take a constructorFn to call once we have a reference to the engine\n  constructor (constructorFn) {\n    super()\n    if (!constructorFn) throw new Error('JsonRpcEngineMiddlewareSubprovider - no constructorFn specified')\n    this._constructorFn = constructorFn\n  }\n\n  // this is called once the subprovider has been added to the provider engine\n  setEngine (engine) {\n    if (this.middleware) throw new Error('JsonRpcEngineMiddlewareSubprovider - subprovider added to engine twice')\n    const blockTracker = engine._blockTracker\n    const middleware = this._constructorFn({ engine, provider: engine, blockTracker })\n    if (!middleware) throw new Error('JsonRpcEngineMiddlewareSubprovider - _constructorFn did not return middleware')\n    if (typeof middleware !== 'function') throw new Error('JsonRpcEngineMiddlewareSubprovider - specified middleware is not a function')\n    this.middleware = middleware\n  }\n\n  handleRequest (req, provEngNext, provEngEnd) {\n    const res = { id: req.id }\n    this.middleware(req, res, middlewareNext, middlewareEnd)\n\n    function middlewareNext (handler) {\n      provEngNext((err, result, cb) => {\n        // update response object with result or error\n        if (err) {\n          delete res.result\n          res.error = { message: err.message || err }\n        } else {\n          res.result = result\n        }\n        // call middleware's next handler (even if error)\n        if (handler) {\n          handler(cb)\n        } else {\n          cb()\n        }\n      })\n    }\n\n    function middlewareEnd (err) {\n      if (err) return provEngEnd(err)\n      provEngEnd(null, res.result)\n    }\n  }\n\n}\n\nmodule.exports = JsonRpcEngineMiddlewareSubprovider\n","const stringify = require('json-stable-stringify')\n\nmodule.exports = {\n  cacheIdentifierForPayload: cacheIdentifierForPayload,\n  canCache: canCache,\n  blockTagForPayload: blockTagForPayload,\n  paramsWithoutBlockTag: paramsWithoutBlockTag,\n  blockTagParamIndex: blockTagParamIndex,\n  cacheTypeForPayload: cacheTypeForPayload\n}\n\nfunction cacheIdentifierForPayload (payload, skipBlockRef) {\n  const simpleParams = skipBlockRef ? paramsWithoutBlockTag(payload) : payload.params\n  if (canCache(payload)) {\n    return payload.method + ':' + stringify(simpleParams)\n  } else {\n    return null\n  }\n}\n\nfunction canCache (payload) {\n  return cacheTypeForPayload(payload) !== 'never'\n}\n\nfunction blockTagForPayload (payload) {\n  let index = blockTagParamIndex(payload)\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return null\n  }\n\n  return payload.params[index]\n}\n\nfunction paramsWithoutBlockTag (payload) {\n  const index = blockTagParamIndex(payload)\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return payload.params\n  }\n\n  // eth_getBlockByNumber has the block tag first, then the optional includeTx? param\n  if (payload.method === 'eth_getBlockByNumber') {\n    return payload.params.slice(1)\n  }\n\n  return payload.params.slice(0, index)\n}\n\nfunction blockTagParamIndex (payload) {\n  switch (payload.method) {\n    // blockTag is at index 2\n    case 'eth_getStorageAt':\n      return 2\n    // blockTag is at index 1\n    case 'eth_getBalance':\n    case 'eth_getCode':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n      return 1\n    // blockTag is at index 0\n    case 'eth_getBlockByNumber':\n      return 0\n    // there is no blockTag\n    default:\n      return undefined\n  }\n}\n\nfunction cacheTypeForPayload (payload) {\n  switch (payload.method) {\n    // cache permanently\n    case 'web3_clientVersion':\n    case 'web3_sha3':\n    case 'eth_protocolVersion':\n    case 'eth_getBlockTransactionCountByHash':\n    case 'eth_getUncleCountByBlockHash':\n    case 'eth_getCode':\n    case 'eth_getBlockByHash':\n    case 'eth_getTransactionByHash':\n    case 'eth_getTransactionByBlockHashAndIndex':\n    case 'eth_getTransactionReceipt':\n    case 'eth_getUncleByBlockHashAndIndex':\n    case 'eth_getCompilers':\n    case 'eth_compileLLL':\n    case 'eth_compileSolidity':\n    case 'eth_compileSerpent':\n    case 'shh_version':\n    case 'test_permaCache':\n      return 'perma'\n\n    // cache until fork\n    case 'eth_getBlockByNumber':\n    case 'eth_getBlockTransactionCountByNumber':\n    case 'eth_getUncleCountByBlockNumber':\n    case 'eth_getTransactionByBlockNumberAndIndex':\n    case 'eth_getUncleByBlockNumberAndIndex':\n    case 'test_forkCache':\n      return 'fork'\n\n    // cache for block\n    case 'eth_gasPrice':\n    case 'eth_blockNumber':\n    case 'eth_getBalance':\n    case 'eth_getStorageAt':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n    case 'eth_getFilterLogs':\n    case 'eth_getLogs':\n    case 'test_blockCache':\n      return 'block'\n\n    // never cache\n    case 'net_version':\n    case 'net_peerCount':\n    case 'net_listening':\n    case 'eth_syncing':\n    case 'eth_sign':\n    case 'eth_coinbase':\n    case 'eth_mining':\n    case 'eth_hashrate':\n    case 'eth_accounts':\n    case 'eth_sendTransaction':\n    case 'eth_sendRawTransaction':\n    case 'eth_newFilter':\n    case 'eth_newBlockFilter':\n    case 'eth_newPendingTransactionFilter':\n    case 'eth_uninstallFilter':\n    case 'eth_getFilterChanges':\n    case 'eth_getWork':\n    case 'eth_submitWork':\n    case 'eth_submitHashrate':\n    case 'db_putString':\n    case 'db_getString':\n    case 'db_putHex':\n    case 'db_getHex':\n    case 'shh_post':\n    case 'shh_newIdentity':\n    case 'shh_hasIdentity':\n    case 'shh_newGroup':\n    case 'shh_addToGroup':\n    case 'shh_newFilter':\n    case 'shh_uninstallFilter':\n    case 'shh_getFilterChanges':\n    case 'shh_getMessages':\n    case 'test_neverCache':\n      return 'never'\n  }\n}\n","const cacheUtils = require('./cache-utils.js')\nconst createAsyncMiddleware = require('json-rpc-engine/src/createAsyncMiddleware')\n// `<nil>` comes from https://github.com/ethereum/go-ethereum/issues/16925\nconst emptyValues = [undefined, null, '\\u003cnil\\u003e']\n\nmodule.exports = createBlockCacheMiddleware\n\n\nfunction createBlockCacheMiddleware(opts = {}) {\n  // validate options\n  const { blockTracker } = opts\n  if (!blockTracker) throw new Error('createBlockCacheMiddleware - No BlockTracker specified')\n\n  // create caching strategies\n  const blockCache = new BlockCacheStrategy()\n  const strategies = {\n    perma: blockCache,\n    block: blockCache,\n    fork: blockCache,\n  }\n\n  return createAsyncMiddleware(async (req, res, next) => {\n    // allow cach to be skipped if so specified\n    if (req.skipCache) {\n      return next()\n    }\n    // check type and matching strategy\n    const type = cacheUtils.cacheTypeForPayload(req)\n    const strategy = strategies[type]\n    // If there's no strategy in place, pass it down the chain.\n    if (!strategy) {\n      return next()\n    }\n    // If the strategy can't cache this request, ignore it.\n    if (!strategy.canCacheRequest(req)) {\n      return next()\n    }\n\n    // get block reference (number or keyword)\n    let blockTag = cacheUtils.blockTagForPayload(req)\n    if (!blockTag) blockTag = 'latest'\n\n    // get exact block number\n    let requestedBlockNumber\n    if (blockTag === 'earliest') {\n      // this just exists for symmetry with \"latest\"\n      requestedBlockNumber = '0x00'\n    } else if (blockTag === 'latest') {\n      // fetch latest block number\n      const latestBlockNumber = await blockTracker.getLatestBlock()\n      // clear all cache before latest block\n      blockCache.clearBefore(latestBlockNumber)\n      requestedBlockNumber = latestBlockNumber\n    } else {\n      // We have a hex number\n      requestedBlockNumber = blockTag\n    }\n\n    // end on a hit, continue on a miss\n    const cacheResult = await strategy.get(req, requestedBlockNumber)\n    if (cacheResult === undefined) {\n      // cache miss\n      // wait for other middleware to handle request\n      await next()\n      // add result to cache\n      await strategy.set(req, requestedBlockNumber, res.result)\n    } else {\n      // fill in result from cache\n      res.result = cacheResult\n    }\n  })\n}\n\n\n//\n// Cache Strategies\n//\n\nclass BlockCacheStrategy {\n  \n  constructor () {\n    this.cache = {}\n  }\n\n  getBlockCacheForPayload (payload, blockNumberHex) {\n    const blockNumber = Number.parseInt(blockNumberHex, 16)\n    let blockCache = this.cache[blockNumber]\n    // create new cache if necesary\n    if (!blockCache) {\n      const newCache = {}\n      this.cache[blockNumber] = newCache\n      blockCache = newCache\n    }\n    return blockCache\n  }\n\n  async get (payload, requestedBlockNumber) {\n    // lookup block cache\n    const blockCache = this.getBlockCacheForPayload(payload, requestedBlockNumber)\n    if (!blockCache) return\n    // lookup payload in block cache\n    const identifier = cacheUtils.cacheIdentifierForPayload(payload, true)\n    const cached = blockCache[identifier]\n    // may be undefined\n    return cached\n  }\n\n  async set (payload, requestedBlockNumber, result) {\n    // check if we can cached this result\n    const canCache = this.canCacheResult(payload, result)\n    if (!canCache) return\n    // set the value in the cache\n    const blockCache = this.getBlockCacheForPayload(payload, requestedBlockNumber)\n    const identifier = cacheUtils.cacheIdentifierForPayload(payload, true)\n    blockCache[identifier] = result\n  }\n\n  canCacheRequest (payload) {\n    // check request method\n    if (!cacheUtils.canCache(payload)) {\n      return false\n    }\n    // check blockTag\n    const blockTag = cacheUtils.blockTagForPayload(payload)\n    if (blockTag === 'pending') {\n      return false\n    }\n    // can be cached\n    return true\n  }\n\n  canCacheResult (payload, result) {\n    // never cache empty values (e.g. undefined)\n    if (emptyValues.includes(result)) return\n    // check if transactions have block reference before caching\n    if (['eth_getTransactionByHash', 'eth_getTransactionReceipt'].includes(payload.method)) {\n      if (!result || !result.blockHash || result.blockHash === '0x0000000000000000000000000000000000000000000000000000000000000000') {\n        return false\n      }\n    }\n    // otherwise true\n    return true\n  }\n\n  // removes all block caches with block number lower than `oldBlockHex`\n  clearBefore (oldBlockHex){\n    const self = this\n    const oldBlockNumber = Number.parseInt(oldBlockHex, 16)\n    // clear old caches\n    Object.keys(self.cache)\n      .map(Number)\n      .filter(num => num < oldBlockNumber)\n      .forEach(num => delete self.cache[num])\n  }\n\n}\n","const ProviderSubprovider = require('./json-rpc-engine-middleware')\nconst createBlockCacheMiddleware = require('@portis/eth-json-rpc-middleware/block-cache')\n\nclass BlockCacheSubprovider extends ProviderSubprovider {\n  constructor(opts) {\n    super(({ blockTracker }) => createBlockCacheMiddleware(Object.assign({ blockTracker }, opts)))\n  }\n}\n\nmodule.exports = BlockCacheSubprovider\n","const inherits = require('util').inherits\nconst Subprovider = require('./subprovider.js')\n\nmodule.exports = FixtureProvider\n\ninherits(FixtureProvider, Subprovider)\n\nfunction FixtureProvider(staticResponses){\n  const self = this\n  staticResponses = staticResponses || {}\n  self.staticResponses = staticResponses\n}\n\nFixtureProvider.prototype.handleRequest = function(payload, next, end){\n  const self = this\n  var staticResponse = self.staticResponses[payload.method]\n  // async function\n  if ('function' === typeof staticResponse) {\n    staticResponse(payload, next, end)\n  // static response - null is valid response\n  } else if (staticResponse !== undefined) {\n    // return result asynchronously\n    setTimeout(() => end(null, staticResponse))\n  // no prepared response - skip\n  } else {\n    next()\n  }\n}\n","const ProviderSubprovider = require('./json-rpc-engine-middleware')\nconst createFilterMiddleware = require('eth-json-rpc-filters')\n\nclass SubscriptionsSubprovider extends ProviderSubprovider {\n  constructor() {\n    super(({ blockTracker, provider, engine }) => {\n      return createFilterMiddleware({ blockTracker, provider })\n    })\n  }\n}\n\nmodule.exports = SubscriptionsSubprovider\n","/*\n * Emulate 'eth_accounts' / 'eth_sendTransaction' using 'eth_sendRawTransaction'\n *\n * The two callbacks a user needs to implement are:\n * - getAccounts() -- array of addresses supported\n * - signTransaction(tx) -- sign a raw transaction object\n */\n\nconst waterfall = require('async/waterfall')\nconst parallel = require('async/parallel')\nconst inherits = require('util').inherits\nconst ethUtil = require('ethereumjs-util')\nconst sigUtil = require('eth-sig-util')\nconst extend = require('xtend')\nconst Semaphore = require('semaphore')\nconst Subprovider = require('./subprovider.js')\nconst estimateGas = require('../util/estimate-gas.js')\nconst hexRegex = /^[0-9A-Fa-f]+$/g\n\nmodule.exports = HookedWalletSubprovider\n\n// handles the following RPC methods:\n//   eth_coinbase\n//   eth_accounts\n//   eth_sendTransaction\n//   eth_sign\n//   eth_signTypedData\n//   personal_sign\n//   personal_ecRecover\n//   parity_postTransaction\n//   parity_checkRequest\n//   parity_defaultAccount\n\n//\n// Tx Signature Flow\n//\n// handleRequest: eth_sendTransaction\n//   validateTransaction (basic validity check)\n//     validateSender (checks that sender is in accounts)\n//   processTransaction (sign tx and submit to network)\n//     approveTransaction (UI approval hook)\n//     checkApproval\n//     finalizeAndSubmitTx (tx signing)\n//       nonceLock.take (bottle neck to ensure atomic nonce)\n//         fillInTxExtras (set fallback gasPrice, nonce, etc)\n//         signTransaction (perform the signature)\n//         publishTransaction (publish signed tx to network)\n//\n\n\ninherits(HookedWalletSubprovider, Subprovider)\n\nfunction HookedWalletSubprovider(opts){\n  const self = this\n  // control flow\n  self.nonceLock = Semaphore(1)\n\n  // data lookup\n  if (opts.getAccounts) self.getAccounts = opts.getAccounts\n  // high level override\n  if (opts.processTransaction) self.processTransaction = opts.processTransaction\n  if (opts.processMessage) self.processMessage = opts.processMessage\n  if (opts.processPersonalMessage) self.processPersonalMessage = opts.processPersonalMessage\n  if (opts.processTypedMessage) self.processTypedMessage = opts.processTypedMessage\n  if (opts.processTypedMessageV3) self.processTypedMessageV3 = opts.processTypedMessageV3\n  // approval hooks\n  self.approveTransaction = opts.approveTransaction || self.autoApprove\n  self.approveMessage = opts.approveMessage || self.autoApprove\n  self.approvePersonalMessage = opts.approvePersonalMessage || self.autoApprove\n  self.approveTypedMessage = opts.approveTypedMessage || self.autoApprove\n  self.approveTypedMessageV3 = opts.approveTypedMessageV3 || self.autoApprove\n  // actually perform the signature\n  if (opts.signTransaction) self.signTransaction = opts.signTransaction  || mustProvideInConstructor('signTransaction')\n  if (opts.signMessage) self.signMessage = opts.signMessage  || mustProvideInConstructor('signMessage')\n  if (opts.signPersonalMessage) self.signPersonalMessage = opts.signPersonalMessage  || mustProvideInConstructor('signPersonalMessage')\n  if (opts.signTypedMessage) self.signTypedMessage = opts.signTypedMessage  || mustProvideInConstructor('signTypedMessage')\n  if (opts.signTypedMessageV3) self.signTypedMessageV3 = opts.signTypedMessageV3  || mustProvideInConstructor('signTypedMessageV3')\n  if (opts.recoverPersonalSignature) self.recoverPersonalSignature = opts.recoverPersonalSignature\n  // publish to network\n  if (opts.publishTransaction) self.publishTransaction = opts.publishTransaction\n  // gas options\n  self.estimateGas = opts.estimateGas || self.estimateGas\n  self.getGasPrice = opts.getGasPrice || self.getGasPrice\n}\n\nHookedWalletSubprovider.prototype.handleRequest = function(payload, next, end){\n  const self = this\n  self._parityRequests = {}\n  self._parityRequestCount = 0\n\n  // switch statement is not block scoped\n  // sp we cant repeat var declarations\n  let txParams, msgParams, extraParams\n  let message, address\n\n  switch(payload.method) {\n\n    case 'eth_coinbase':\n      // process normally\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        let result = accounts[0] || null\n        end(null, result)\n      })\n      return\n\n    case 'eth_accounts':\n      // process normally\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        end(null, accounts)\n      })\n      return\n\n    case 'eth_sendTransaction':\n      txParams = payload.params[0]\n      waterfall([\n        (cb) => self.validateTransaction(txParams, cb),\n        (cb) => self.processTransaction(txParams, cb),\n      ], end)\n      return\n\n    case 'eth_signTransaction':\n      txParams = payload.params[0]\n      waterfall([\n        (cb) => self.validateTransaction(txParams, cb),\n        (cb) => self.processSignTransaction(txParams, cb),\n      ], end)\n      return\n\n    case 'eth_sign':\n      // process normally\n      if (resemblesData(payload.params[1]) && resemblesAddress(payload.params[0])) {\n        address = payload.params[0]\n        message = payload.params[1]\n      } else {\n        message = payload.params[0]\n        address = payload.params[1]\n      }\n\n      // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n      // good place for metadata\n      extraParams = payload.params[2] || {}\n      msgParams = extend(extraParams, {\n        from: address,\n        data: message,\n      })\n      waterfall([\n        (cb) => self.validateMessage(msgParams, cb),\n        (cb) => self.processMessage(msgParams, cb),\n      ], end)\n      return\n\n    case 'personal_sign':\n      return (function(){\n        // process normally\n        const first = payload.params[0]\n        const second = payload.params[1]\n\n        // We initially incorrectly ordered these parameters.\n        // To gracefully respect users who adopted this API early,\n        // we are currently gracefully recovering from the wrong param order\n        // when it is clearly identifiable.\n        //\n        // That means when the first param is definitely an address,\n        // and the second param is definitely not, but is hex.\n        if (resemblesData(second) && resemblesAddress(first)) {\n          let warning = `The eth_personalSign method requires params ordered `\n          warning += `[message, address]. This was previously handled incorrectly, `\n          warning += `and has been corrected automatically. `\n          warning += `Please switch this param order for smooth behavior in the future.`\n          console.warn(warning)\n\n          address = payload.params[0]\n          message = payload.params[1]\n        } else {\n          message = payload.params[0]\n          address = payload.params[1]\n        }\n\n        // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n        // good place for metadata\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          from: address,\n          data: message,\n        })\n        waterfall([\n          (cb) => self.validatePersonalMessage(msgParams, cb),\n          (cb) => self.processPersonalMessage(msgParams, cb),\n        ], end)\n      })()\n\n    case 'personal_ecRecover':\n      return (function(){\n        message = payload.params[0]\n        let signature = payload.params[1]\n        // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n        // good place for metadata\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          sig: signature,\n          data: message,\n        })\n        self.recoverPersonalSignature(msgParams, end)\n      })()\n\n    case 'eth_signTypedData':\n      // process normally\n      if (!resemblesAddress(payload.params[1]) && resemblesAddress(payload.params[0])) {\n        address = payload.params[0]\n        message = payload.params[1]\n      } else {\n        message = payload.params[0]\n        address = payload.params[1]\n      }\n\n      extraParams = payload.params[2] || {}\n      msgParams = extend(extraParams, {\n        from: address,\n        data: message,\n      })\n      waterfall([\n        (cb) => self.validateTypedMessage(msgParams, cb),\n        (cb) => self.processTypedMessage(msgParams, cb),\n      ], end)\n      return\n\n    case 'eth_signTypedData_v3':\n      // process normally\n      if (!resemblesAddress(payload.params[1]) && resemblesAddress(payload.params[0])) {\n        address = payload.params[0]\n        message = payload.params[1]\n      } else {\n        message = payload.params[0]\n        address = payload.params[1]\n      }\n\n      extraParams = payload.params[2] || {}\n      msgParams = extend(extraParams, {\n        from: address,\n        data: message,\n      })\n      waterfall([\n        (cb) => self.validateTypedMessageV3(msgParams, cb),\n        (cb) => self.processTypedMessageV3(msgParams, cb),\n      ], end)\n      return\n\n    case 'parity_postTransaction':\n      txParams = payload.params[0]\n      self.parityPostTransaction(txParams, end)\n      return\n\n    case 'parity_postSign':\n      address = payload.params[0]\n      message = payload.params[1]\n      self.parityPostSign(address, message, end)\n      return\n\n    case 'parity_checkRequest':\n      return (function(){\n        const requestId = payload.params[0]\n        self.parityCheckRequest(requestId, end)\n      })()\n\n    case 'parity_defaultAccount':\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        const account = accounts[0] || null\n        end(null, account)\n      })\n      return\n\n    default:\n      next()\n      return\n\n  }\n}\n\n//\n// data lookup\n//\n\nHookedWalletSubprovider.prototype.getAccounts = function(cb) {\n  cb(null, [])\n}\n\n\n//\n// \"process\" high level flow\n//\n\nHookedWalletSubprovider.prototype.processTransaction = function(txParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTransaction(txParams, cb),\n    (didApprove, cb) => self.checkApproval('transaction', didApprove, cb),\n    (cb) => self.finalizeAndSubmitTx(txParams, cb),\n  ], cb)\n}\n\n\nHookedWalletSubprovider.prototype.processSignTransaction = function(txParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTransaction(txParams, cb),\n    (didApprove, cb) => self.checkApproval('transaction', didApprove, cb),\n    (cb) => self.finalizeTx(txParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processPersonalMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approvePersonalMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signPersonalMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processTypedMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTypedMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signTypedMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processTypedMessageV3 = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTypedMessageV3(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signTypedMessageV3(msgParams, cb),\n  ], cb)\n}\n\n//\n// approval\n//\n\nHookedWalletSubprovider.prototype.autoApprove = function(txParams, cb) {\n  cb(null, true)\n}\n\nHookedWalletSubprovider.prototype.checkApproval = function(type, didApprove, cb) {\n  cb( didApprove ? null : new Error('User denied '+type+' signature.') )\n}\n\n//\n// parity\n//\n\nHookedWalletSubprovider.prototype.parityPostTransaction = function(txParams, cb) {\n  const self = this\n\n  // get next id\n  const count = self._parityRequestCount\n  const reqId = `0x${count.toString(16)}`\n  self._parityRequestCount++\n\n  self.emitPayload({\n    method: 'eth_sendTransaction',\n    params: [txParams],\n  }, function(error, res){\n    if (error) {\n      self._parityRequests[reqId] = { error }\n      return\n    }\n    const txHash = res.result\n    self._parityRequests[reqId] = txHash\n  })\n\n  cb(null, reqId)\n}\n\n\nHookedWalletSubprovider.prototype.parityPostSign = function(address, message, cb) {\n  const self = this\n\n  // get next id\n  const count = self._parityRequestCount\n  const reqId = `0x${count.toString(16)}`\n  self._parityRequestCount++\n\n  self.emitPayload({\n    method: 'eth_sign',\n    params: [address, message],\n  }, function(error, res){\n    if (error) {\n      self._parityRequests[reqId] = { error }\n      return\n    }\n    const result = res.result\n    self._parityRequests[reqId] = result\n  })\n\n  cb(null, reqId)\n}\n\nHookedWalletSubprovider.prototype.parityCheckRequest = function(reqId, cb) {\n  const self = this\n  const result = self._parityRequests[reqId] || null\n  // tx not handled yet\n  if (!result) return cb(null, null)\n  // tx was rejected (or other error)\n  if (result.error) return cb(result.error)\n  // tx sent\n  cb(null, result)\n}\n\n//\n// signature and recovery\n//\n\nHookedWalletSubprovider.prototype.recoverPersonalSignature = function(msgParams, cb) {\n  let senderHex\n  try {\n    senderHex = sigUtil.recoverPersonalSignature(msgParams)\n  } catch (err) {\n    return cb(err)\n  }\n  cb(null, senderHex)\n}\n\n//\n// validation\n//\n\nHookedWalletSubprovider.prototype.validateTransaction = function(txParams, cb){\n  const self = this\n  // shortcut: undefined sender is invalid\n  if (txParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign transaction.`))\n  self.validateSender(txParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign transaction for this address: \"${txParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateMessage = function(msgParams, cb){\n  const self = this\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign message.`))\n  self.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validatePersonalMessage = function(msgParams, cb){\n  const self = this\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign personal message.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined message - message required to sign personal message.`))\n  if (!isValidHex(msgParams.data)) return cb(new Error(`HookedWalletSubprovider - validateMessage - message was not encoded as hex.`))\n  self.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateTypedMessage = function(msgParams, cb){\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign typed data.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined data - message required to sign typed data.`))\n  this.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateTypedMessageV3 = function(msgParams, cb){\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign typed data.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined data - message required to sign typed data.`))\n  this.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateSender = function(senderAddress, cb){\n  const self = this\n  // shortcut: undefined sender is invalid\n  if (!senderAddress) return cb(null, false)\n  self.getAccounts(function(err, accounts){\n    if (err) return cb(err)\n    const senderIsValid = (accounts.map(toLowerCase).indexOf(senderAddress.toLowerCase()) !== -1)\n    cb(null, senderIsValid)\n  })\n}\n\n//\n// tx helpers\n//\n\nHookedWalletSubprovider.prototype.finalizeAndSubmitTx = function(txParams, cb) {\n  const self = this\n  // can only allow one tx to pass through this flow at a time\n  // so we can atomically consume a nonce\n  self.nonceLock.take(function(){\n    waterfall([\n      self.fillInTxExtras.bind(self, txParams),\n      self.signTransaction.bind(self),\n      self.publishTransaction.bind(self),\n    ], function(err, txHash){\n      self.nonceLock.leave()\n      if (err) return cb(err)\n      cb(null, txHash)\n    })\n  })\n}\n\nHookedWalletSubprovider.prototype.finalizeTx = function(txParams, cb) {\n  const self = this\n  // can only allow one tx to pass through this flow at a time\n  // so we can atomically consume a nonce\n  self.nonceLock.take(function(){\n    waterfall([\n      self.fillInTxExtras.bind(self, txParams),\n      self.signTransaction.bind(self),\n    ], function(err, signedTx){\n      self.nonceLock.leave()\n      if (err) return cb(err)\n      cb(null, {raw: signedTx, tx: txParams})\n    })\n  })\n}\n\nHookedWalletSubprovider.prototype.publishTransaction = function(rawTx, cb) {\n  const self = this\n  self.emitPayload({\n    method: 'eth_sendRawTransaction',\n    params: [rawTx],\n  }, function(err, res){\n    if (err) return cb(err)\n    cb(null, res.result)\n  })\n}\n\nHookedWalletSubprovider.prototype.estimateGas = function(txParams, cb) {\n  const self = this\n  estimateGas(self.engine, txParams, cb)\n}\n\nHookedWalletSubprovider.prototype.getGasPrice = function(cb) {\n  const self = this\n  self.emitPayload({ method: 'eth_gasPrice', params: [] }, function (err, res) {\n    if (err) return cb(err)\n    cb(null, res.result)\n  })\n}\n\nHookedWalletSubprovider.prototype.fillInTxExtras = function(txParams, cb){\n  const self = this\n  const address = txParams.from\n  // console.log('fillInTxExtras - address:', address)\n\n  const tasks = {}\n\n  if (txParams.gasPrice === undefined) {\n    // console.log(\"need to get gasprice\")\n    tasks.gasPrice = self.getGasPrice.bind(self)\n  }\n\n  if (txParams.nonce === undefined) {\n    // console.log(\"need to get nonce\")\n    tasks.nonce = self.emitPayload.bind(self, { method: 'eth_getTransactionCount', params: [address, 'pending'] })\n  }\n\n  if (txParams.gas === undefined) {\n    // console.log(\"need to get gas\")\n    tasks.gas = self.estimateGas.bind(self, cloneTxParams(txParams))\n  }\n\n  parallel(tasks, function(err, taskResults) {\n    if (err) return cb(err)\n\n    const result = {}\n    if (taskResults.gasPrice) result.gasPrice = taskResults.gasPrice\n    if (taskResults.nonce) result.nonce = taskResults.nonce.result\n    if (taskResults.gas) result.gas = taskResults.gas\n\n    cb(null, extend(txParams, result))\n  })\n}\n\n// util\n\n// we use this to clean any custom params from the txParams\nfunction cloneTxParams(txParams){\n  return {\n    from: txParams.from,\n    to: txParams.to,\n    value: txParams.value,\n    data: txParams.data,\n    gas: txParams.gas,\n    gasPrice: txParams.gasPrice,\n    nonce: txParams.nonce,\n  }\n}\n\nfunction toLowerCase(string){\n  return string.toLowerCase()\n}\n\nfunction resemblesAddress (string) {\n  const fixed = ethUtil.addHexPrefix(string)\n  const isValid = ethUtil.isValidAddress(fixed)\n  return isValid\n}\n\n// Returns true if resembles hex data\n// but definitely not a valid address.\nfunction resemblesData (string) {\n  const fixed = ethUtil.addHexPrefix(string)\n  const isValidAddress = ethUtil.isValidAddress(fixed)\n  return !isValidAddress && isValidHex(string)\n}\n\nfunction isValidHex(data) {\n  const isString = typeof data === 'string'\n  if (!isString) return false\n  const isHexPrefixed = data.slice(0,2) === '0x'\n  if (!isHexPrefixed) return false\n  const nonPrefixed = data.slice(2)\n  const isValid = nonPrefixed.match(hexRegex)\n  return isValid\n}\n\nfunction mustProvideInConstructor(methodName) {\n  return function(params, cb) {\n    cb(new Error('ProviderEngine - HookedWalletSubprovider - Must provide \"' + methodName + '\" fn in constructor options'))\n  }\n}\n","const createPayload = require('./create-payload.js')\n\nmodule.exports = estimateGas\n\n/*\n\nThis is a work around for https://github.com/ethereum/go-ethereum/issues/2577\n\n*/\n\n\nfunction estimateGas(provider, txParams, cb) {\n  provider.sendAsync(createPayload({\n    method: 'eth_estimateGas',\n    params: [txParams]\n  }), function(err, res){\n    if (err) {\n      // handle simple value transfer case\n      if (err.message === 'no contract code at given address') {\n        return cb(null, '0xcf08')\n      } else {\n        return cb(err)        \n      }\n    }\n    cb(null, res.result)\n  })\n}","const inherits = require('util').inherits\nconst Transaction = require('ethereumjs-tx')\nconst ethUtil = require('ethereumjs-util')\nconst Subprovider = require('./subprovider.js')\nconst blockTagForPayload = require('../util/rpc-cache-utils').blockTagForPayload\n\nmodule.exports = NonceTrackerSubprovider\n\n// handles the following RPC methods:\n//   eth_getTransactionCount (pending only)\n//\n// observes the following RPC methods:\n//   eth_sendRawTransaction\n//   evm_revert (to clear the nonce cache)\n\ninherits(NonceTrackerSubprovider, Subprovider)\n\nfunction NonceTrackerSubprovider(opts){\n  const self = this\n\n  self.nonceCache = {}\n}\n\nNonceTrackerSubprovider.prototype.handleRequest = function(payload, next, end){\n  const self = this\n\n  switch(payload.method) {\n\n    case 'eth_getTransactionCount':\n      var blockTag = blockTagForPayload(payload)\n      var address = payload.params[0].toLowerCase()\n      var cachedResult = self.nonceCache[address]\n      // only handle requests against the 'pending' blockTag\n      if (blockTag === 'pending') {\n        // has a result\n        if (cachedResult) {\n          end(null, cachedResult)\n        // fallthrough then populate cache\n        } else {\n          next(function(err, result, cb){\n            if (err) return cb()\n            if (self.nonceCache[address] === undefined) {\n              self.nonceCache[address] = result\n            }\n            cb()\n          })\n        }\n      } else {\n        next()\n      }\n      return\n\n    case 'eth_sendRawTransaction':\n      // allow the request to continue normally\n      next(function(err, result, cb){\n        // only update local nonce if tx was submitted correctly\n        if (err) return cb()\n        // parse raw tx\n        var rawTx = payload.params[0]\n        var stripped = ethUtil.stripHexPrefix(rawTx)\n        var rawData = Buffer.from(ethUtil.stripHexPrefix(rawTx), 'hex')\n        var tx = new Transaction(Buffer.from(ethUtil.stripHexPrefix(rawTx), 'hex'))\n        // extract address\n        var address = '0x'+tx.getSenderAddress().toString('hex').toLowerCase()\n        // extract nonce and increment\n        var nonce = ethUtil.bufferToInt(tx.nonce)\n        nonce++\n        // hexify and normalize\n        var hexNonce = nonce.toString(16)\n        if (hexNonce.length%2) hexNonce = '0'+hexNonce\n        hexNonce = '0x'+hexNonce\n        // dont update our record on the nonce until the submit was successful\n        // update cache\n        self.nonceCache[address] = hexNonce\n        cb()\n      })\n      return\n\n   // Clear cache on a testrpc revert\n   case 'evm_revert':\n      self.nonceCache = {}\n      next()\n      return\n\n    default:\n      next()\n      return\n\n  }\n}\n","const stringify = require('json-stable-stringify')\n\nmodule.exports = {\n  cacheIdentifierForPayload: cacheIdentifierForPayload,\n  canCache: canCache,\n  blockTagForPayload: blockTagForPayload,\n  paramsWithoutBlockTag: paramsWithoutBlockTag,\n  blockTagParamIndex: blockTagParamIndex,\n  cacheTypeForPayload: cacheTypeForPayload,\n}\n\nfunction cacheIdentifierForPayload(payload, opts = {}){\n  if (!canCache(payload)) return null\n  const { includeBlockRef } = opts\n  const params = includeBlockRef ? payload.params : paramsWithoutBlockTag(payload)\n  return payload.method + ':' + stringify(params)\n}\n\nfunction canCache(payload){\n  return cacheTypeForPayload(payload) !== 'never'\n}\n\nfunction blockTagForPayload(payload){\n  var index = blockTagParamIndex(payload);\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return null;\n  }\n\n  return payload.params[index];\n}\n\nfunction paramsWithoutBlockTag(payload){\n  var index = blockTagParamIndex(payload);\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return payload.params;\n  }\n\n  // eth_getBlockByNumber has the block tag first, then the optional includeTx? param\n  if (payload.method === 'eth_getBlockByNumber') {\n    return payload.params.slice(1);\n  }\n\n  return payload.params.slice(0,index);\n}\n\nfunction blockTagParamIndex(payload){\n  switch(payload.method) {\n    // blockTag is third param\n    case 'eth_getStorageAt':\n      return 2\n    // blockTag is second param\n    case 'eth_getBalance':\n    case 'eth_getCode':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n      return 1\n    // blockTag is first param\n    case 'eth_getBlockByNumber':\n      return 0\n    // there is no blockTag\n    default:\n      return undefined\n  }\n}\n\nfunction cacheTypeForPayload(payload) {\n  switch (payload.method) {\n    // cache permanently\n    case 'web3_clientVersion':\n    case 'web3_sha3':\n    case 'eth_protocolVersion':\n    case 'eth_getBlockTransactionCountByHash':\n    case 'eth_getUncleCountByBlockHash':\n    case 'eth_getCode':\n    case 'eth_getBlockByHash':\n    case 'eth_getTransactionByHash':\n    case 'eth_getTransactionByBlockHashAndIndex':\n    case 'eth_getTransactionReceipt':\n    case 'eth_getUncleByBlockHashAndIndex':\n    case 'eth_getCompilers':\n    case 'eth_compileLLL':\n    case 'eth_compileSolidity':\n    case 'eth_compileSerpent':\n    case 'shh_version':\n      return 'perma'\n\n    // cache until fork\n    case 'eth_getBlockByNumber':\n    case 'eth_getBlockTransactionCountByNumber':\n    case 'eth_getUncleCountByBlockNumber':\n    case 'eth_getTransactionByBlockNumberAndIndex':\n    case 'eth_getUncleByBlockNumberAndIndex':\n      return 'fork'\n\n    // cache for block\n    case 'eth_gasPrice':\n    case 'eth_getBalance':\n    case 'eth_getStorageAt':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n    case 'eth_getFilterLogs':\n    case 'eth_getLogs':\n    case 'eth_blockNumber':\n      return 'block'\n\n    // never cache\n    case 'net_version':\n    case 'net_peerCount':\n    case 'net_listening':\n    case 'eth_syncing':\n    case 'eth_sign':\n    case 'eth_coinbase':\n    case 'eth_mining':\n    case 'eth_hashrate':\n    case 'eth_accounts':\n    case 'eth_sendTransaction':\n    case 'eth_sendRawTransaction':\n    case 'eth_newFilter':\n    case 'eth_newBlockFilter':\n    case 'eth_newPendingTransactionFilter':\n    case 'eth_uninstallFilter':\n    case 'eth_getFilterChanges':\n    case 'eth_getWork':\n    case 'eth_submitWork':\n    case 'eth_submitHashrate':\n    case 'db_putString':\n    case 'db_getString':\n    case 'db_putHex':\n    case 'db_getHex':\n    case 'shh_post':\n    case 'shh_newIdentity':\n    case 'shh_hasIdentity':\n    case 'shh_newGroup':\n    case 'shh_addToGroup':\n    case 'shh_newFilter':\n    case 'shh_uninstallFilter':\n    case 'shh_getFilterChanges':\n    case 'shh_getMessages':\n      return 'never'\n  }\n}\n","const ProviderSubprovider = require('./json-rpc-engine-middleware')\nconst createSubscriptionManager = require('eth-json-rpc-filters/subscriptionManager')\n\nclass SubscriptionsSubprovider extends ProviderSubprovider {\n  constructor() {\n    super(({ blockTracker, provider, engine }) => {\n      const { events, middleware } = createSubscriptionManager({ blockTracker, provider })\n      // forward subscription events on the engine\n      events.on('notification', (data) => engine.emit('data', null, data))\n      // return the subscription install/remove middleware\n      return middleware\n    })\n  }\n}\n\nmodule.exports = SubscriptionsSubprovider\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.ERR_NOT_IN_IFRAME = exports.ERR_CONNECTION_TIMEOUT = exports.ERR_CONNECTION_DESTROYED = void 0;\nvar HANDSHAKE = 'handshake';\nvar HANDSHAKE_REPLY = 'handshake-reply';\nvar CALL = 'call';\nvar REPLY = 'reply';\nvar FULFILLED = 'fulfilled';\nvar REJECTED = 'rejected';\nvar MESSAGE = 'message';\nvar DATA_CLONE_ERROR = 'DataCloneError';\nvar ERR_CONNECTION_DESTROYED = 'ConnectionDestroyed';\nexports.ERR_CONNECTION_DESTROYED = ERR_CONNECTION_DESTROYED;\nvar ERR_CONNECTION_TIMEOUT = 'ConnectionTimeout';\nexports.ERR_CONNECTION_TIMEOUT = ERR_CONNECTION_TIMEOUT;\nvar ERR_NOT_IN_IFRAME = 'NotInIframe';\nexports.ERR_NOT_IN_IFRAME = ERR_NOT_IN_IFRAME;\nvar DEFAULT_PORTS = {\n  'http:': '80',\n  'https:': '443'\n};\nvar URL_REGEX = /^(https?:)?\\/\\/([^/:]+)(:(\\d+))?/;\nvar Penpal = {\n  ERR_CONNECTION_DESTROYED: ERR_CONNECTION_DESTROYED,\n  ERR_CONNECTION_TIMEOUT: ERR_CONNECTION_TIMEOUT,\n  ERR_NOT_IN_IFRAME: ERR_NOT_IN_IFRAME,\n\n  /**\n   * Promise implementation.\n   * @type {Constructor}\n   */\n  Promise: function () {\n    try {\n      return window ? window.Promise : null;\n    } catch (e) {\n      return null;\n    }\n  }(),\n\n  /**\n   * Whether debug messages should be logged.\n   * @type {boolean}\n   */\n  debug: false\n};\n/**\n * @return {number} A unique ID (not universally unique)\n */\n\nvar generateId = function () {\n  var id = 0;\n  return function () {\n    return ++id;\n  };\n}();\n/**\n * Logs a message.\n * @param {...*} args One or more items to log\n */\n\n\nvar log = function log() {\n  if (Penpal.debug) {\n    var _console;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    (_console = console).log.apply(_console, ['[Penpal]'].concat(args)); // eslint-disable-line no-console\n\n  }\n};\n/**\n * Converts a URL into an origin.\n * @param {string} url\n * @return {string} The URL's origin\n */\n\n\nvar getOriginFromUrl = function getOriginFromUrl(url) {\n  var location = document.location;\n  var regexResult = URL_REGEX.exec(url);\n  var protocol;\n  var hostname;\n  var port;\n\n  if (regexResult) {\n    // It's an absolute URL. Use the parsed info.\n    // regexResult[1] will be undefined if the URL starts with //\n    protocol = regexResult[1] ? regexResult[1] : location.protocol;\n    hostname = regexResult[2];\n    port = regexResult[4];\n  } else {\n    // It's a relative path. Use the current location's info.\n    protocol = location.protocol;\n    hostname = location.hostname;\n    port = location.port;\n  } // If the port is the default for the protocol, we don't want to add it to the origin string\n  // or it won't match the message's event.origin.\n\n\n  var portSuffix = port && port !== DEFAULT_PORTS[protocol] ? \":\".concat(port) : '';\n  return \"\".concat(protocol, \"//\").concat(hostname).concat(portSuffix);\n};\n/**\n * A simplified promise class only used internally for when destroy() is called. This is\n * used to destroy connections synchronously while promises typically resolve asynchronously.\n *\n * @param {Function} executor\n * @returns {Object}\n * @constructor\n */\n\n\nvar DestructionPromise = function DestructionPromise(executor) {\n  var handlers = [];\n  executor(function () {\n    handlers.forEach(function (handler) {\n      handler();\n    });\n  });\n  return {\n    then: function then(handler) {\n      handlers.push(handler);\n    }\n  };\n};\n/**\n * Converts an error object into a plain object.\n * @param {Error} Error object.\n * @returns {Object}\n */\n\n\nvar serializeError = function serializeError(_ref) {\n  var name = _ref.name,\n      message = _ref.message,\n      stack = _ref.stack;\n  return {\n    name: name,\n    message: message,\n    stack: stack\n  };\n};\n/**\n * Converts a plain object into an error object.\n * @param {Object} Object with error properties.\n * @returns {Error}\n */\n\n\nvar deserializeError = function deserializeError(obj) {\n  var deserializedError = new Error();\n  Object.keys(obj).forEach(function (key) {\n    return deserializedError[key] = obj[key];\n  });\n  return deserializedError;\n};\n/**\n * Augments an object with methods that match those defined by the remote. When these methods are\n * called, a \"call\" message will be sent to the remote, the remote's corresponding method will be\n * executed, and the method's return value will be returned via a message.\n * @param {Object} callSender Sender object that should be augmented with methods.\n * @param {Object} info Information about the local and remote windows.\n * @param {Array} methodNames Names of methods available to be called on the remote.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Object} The call sender object with methods that may be called.\n */\n\n\nvar connectCallSender = function connectCallSender(callSender, info, methodNames, destructionPromise) {\n  var localName = info.localName,\n      local = info.local,\n      remote = info.remote,\n      remoteOrigin = info.remoteOrigin;\n  var destroyed = false;\n  log(\"\".concat(localName, \": Connecting call sender\"));\n\n  var createMethodProxy = function createMethodProxy(methodName) {\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      log(\"\".concat(localName, \": Sending \").concat(methodName, \"() call\"));\n\n      if (destroyed) {\n        var error = new Error(\"Unable to send \".concat(methodName, \"() call due \") + \"to destroyed connection\");\n        error.code = ERR_CONNECTION_DESTROYED;\n        throw error;\n      }\n\n      return new Penpal.Promise(function (resolve, reject) {\n        var id = generateId();\n\n        var handleMessageEvent = function handleMessageEvent(event) {\n          if (event.source === remote && event.origin === remoteOrigin && event.data.penpal === REPLY && event.data.id === id) {\n            log(\"\".concat(localName, \": Received \").concat(methodName, \"() reply\"));\n            local.removeEventListener(MESSAGE, handleMessageEvent);\n            var returnValue = event.data.returnValue;\n\n            if (event.data.returnValueIsError) {\n              returnValue = deserializeError(returnValue);\n            }\n\n            (event.data.resolution === FULFILLED ? resolve : reject)(returnValue);\n          }\n        };\n\n        local.addEventListener(MESSAGE, handleMessageEvent);\n        remote.postMessage({\n          penpal: CALL,\n          id: id,\n          methodName: methodName,\n          args: args\n        }, remoteOrigin);\n      });\n    };\n  };\n\n  destructionPromise.then(function () {\n    destroyed = true;\n  });\n  methodNames.reduce(function (api, methodName) {\n    api[methodName] = createMethodProxy(methodName);\n    return api;\n  }, callSender);\n};\n/**\n * Listens for \"call\" messages coming from the remote, executes the corresponding method, and\n * responds with the return value.\n * @param {Object} info Information about the local and remote windows.\n * @param {Object} methods The keys are the names of the methods that can be called by the remote\n * while the values are the method functions.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Function} A function that may be called to disconnect the receiver.\n */\n\n\nvar connectCallReceiver = function connectCallReceiver(info, methods, destructionPromise) {\n  var localName = info.localName,\n      local = info.local,\n      remote = info.remote,\n      remoteOrigin = info.remoteOrigin;\n  var destroyed = false;\n  log(\"\".concat(localName, \": Connecting call receiver\"));\n\n  var handleMessageEvent = function handleMessageEvent(event) {\n    if (event.source === remote && event.origin === remoteOrigin && event.data.penpal === CALL) {\n      var _event$data = event.data,\n          methodName = _event$data.methodName,\n          args = _event$data.args,\n          id = _event$data.id;\n      log(\"\".concat(localName, \": Received \").concat(methodName, \"() call\"));\n\n      if (methodName in methods) {\n        var createPromiseHandler = function createPromiseHandler(resolution) {\n          return function (returnValue) {\n            log(\"\".concat(localName, \": Sending \").concat(methodName, \"() reply\"));\n\n            if (destroyed) {\n              // It's possible to throw an error here, but it would need to be thrown asynchronously\n              // and would only be catchable using window.onerror. This is because the consumer\n              // is merely returning a value from their method and not calling any function\n              // that they could wrap in a try-catch. Even if the consumer were to catch the error,\n              // the value of doing so is questionable. Instead, we'll just log a message.\n              log(\"\".concat(localName, \": Unable to send \").concat(methodName, \"() reply due to destroyed connection\"));\n              return;\n            }\n\n            var message = {\n              penpal: REPLY,\n              id: id,\n              resolution: resolution,\n              returnValue: returnValue\n            };\n\n            if (resolution === REJECTED && returnValue instanceof Error) {\n              message.returnValue = serializeError(returnValue);\n              message.returnValueIsError = true;\n            }\n\n            try {\n              remote.postMessage(message, remoteOrigin);\n            } catch (err) {\n              // If a consumer attempts to send an object that's not cloneable (e.g., window),\n              // we want to ensure the receiver's promise gets rejected.\n              if (err.name === DATA_CLONE_ERROR) {\n                remote.postMessage({\n                  penpal: REPLY,\n                  id: id,\n                  resolution: REJECTED,\n                  returnValue: serializeError(err),\n                  returnValueIsError: true\n                }, remoteOrigin);\n              }\n\n              throw err;\n            }\n          };\n        };\n\n        new Penpal.Promise(function (resolve) {\n          return resolve(methods[methodName].apply(methods, args));\n        }).then(createPromiseHandler(FULFILLED), createPromiseHandler(REJECTED));\n      }\n    }\n  };\n\n  local.addEventListener(MESSAGE, handleMessageEvent);\n  destructionPromise.then(function () {\n    destroyed = true;\n    local.removeEventListener(MESSAGE, handleMessageEvent);\n  });\n};\n/**\n * @typedef {Object} Child\n * @property {Promise} promise A promise which will be resolved once a connection has\n * been established.\n * @property {HTMLIframeElement} iframe The created iframe element.\n * @property {Function} destroy A method that, when called, will remove the iframe element from\n * the DOM and clean up event listeners.\n */\n\n/**\n * Creates an iframe, loads a webpage into the URL, and attempts to establish communication with\n * the iframe.\n * @param {Object} options\n * @param {string} options.url The URL of the webpage that should be loaded into the created iframe.\n * @param {HTMLElement} [options.appendTo] The container to which the iframe should be appended.\n * @param {Object} [options.methods={}] Methods that may be called by the iframe.\n * @param {Number} [options.timeout] The amount of time, in milliseconds, Penpal should wait\n * for the child to respond before rejecting the connection promise.\n * @return {Child}\n */\n\n\nPenpal.connectToChild = function (_ref2) {\n  var url = _ref2.url,\n      appendTo = _ref2.appendTo,\n      _ref2$methods = _ref2.methods,\n      methods = _ref2$methods === void 0 ? {} : _ref2$methods,\n      timeout = _ref2.timeout;\n  var destroy;\n  var connectionDestructionPromise = new DestructionPromise(function (resolveConnectionDestructionPromise) {\n    destroy = resolveConnectionDestructionPromise;\n  });\n  var parent = window;\n  var iframe = document.createElement('iframe');\n  (appendTo || document.body).appendChild(iframe);\n  connectionDestructionPromise.then(function () {\n    if (iframe.parentNode) {\n      iframe.parentNode.removeChild(iframe);\n    }\n  });\n  var child = iframe.contentWindow || iframe.contentDocument.parentWindow;\n  var childOrigin = getOriginFromUrl(url);\n  var promise = new Penpal.Promise(function (resolveConnectionPromise, reject) {\n    var connectionTimeoutId;\n\n    if (timeout !== undefined) {\n      connectionTimeoutId = setTimeout(function () {\n        var error = new Error(\"Connection to child timed out after \".concat(timeout, \"ms\"));\n        error.code = ERR_CONNECTION_TIMEOUT;\n        reject(error);\n        destroy();\n      }, timeout);\n    } // We resolve the promise with the call sender. If the child reconnects (for example, after\n    // refreshing or navigating to another page that uses Penpal, we'll update the call sender\n    // with methods that match the latest provided by the child.\n\n\n    var callSender = {};\n    var receiverMethodNames;\n    var destroyCallReceiver;\n\n    var handleMessage = function handleMessage(event) {\n      if (event.source === child && event.origin === childOrigin && event.data.penpal === HANDSHAKE) {\n        log('Parent: Received handshake, sending reply');\n        event.source.postMessage({\n          penpal: HANDSHAKE_REPLY,\n          methodNames: Object.keys(methods)\n        }, event.origin);\n        var info = {\n          localName: 'Parent',\n          local: parent,\n          remote: child,\n          remoteOrigin: event.origin\n        }; // If the child reconnected, we need to destroy the previous call receiver before setting\n        // up a new one.\n\n        if (destroyCallReceiver) {\n          destroyCallReceiver();\n        } // When this promise is resolved, it will destroy the call receiver (stop listening to\n        // method calls from the child) and delete its methods off the call sender.\n\n\n        var callReceiverDestructionPromise = new DestructionPromise(function (resolveCallReceiverDestructionPromise) {\n          connectionDestructionPromise.then(resolveCallReceiverDestructionPromise);\n          destroyCallReceiver = resolveCallReceiverDestructionPromise;\n        });\n        connectCallReceiver(info, methods, callReceiverDestructionPromise); // If the child reconnected, we need to remove the methods from the previous call receiver\n        // off the sender.\n\n        if (receiverMethodNames) {\n          receiverMethodNames.forEach(function (receiverMethodName) {\n            delete callSender[receiverMethodName];\n          });\n        }\n\n        receiverMethodNames = event.data.methodNames;\n        connectCallSender(callSender, info, receiverMethodNames, connectionDestructionPromise);\n        clearTimeout(connectionTimeoutId);\n        resolveConnectionPromise(callSender);\n      }\n    };\n\n    parent.addEventListener(MESSAGE, handleMessage);\n    connectionDestructionPromise.then(function () {\n      parent.removeEventListener(MESSAGE, handleMessage);\n      var error = new Error('Connection destroyed');\n      error.code = ERR_CONNECTION_DESTROYED;\n      reject(error);\n    });\n    log('Parent: Loading iframe');\n    iframe.src = url;\n  });\n  return {\n    promise: promise,\n    iframe: iframe,\n    destroy: destroy\n  };\n};\n/**\n * @typedef {Object} Parent\n * @property {Promise} promise A promise which will be resolved once a connection has\n * been established.\n */\n\n/**\n * Attempts to establish communication with the parent window.\n * @param {Object} options\n * @param {string} [options.parentOrigin=*] Valid parent origin used to restrict communication.\n * @param {Object} [options.methods={}] Methods that may be called by the parent window.\n * @param {Number} [options.timeout] The amount of time, in milliseconds, Penpal should wait\n * for the parent to respond before rejecting the connection promise.\n * @return {Parent}\n */\n\n\nPenpal.connectToParent = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$parentOrigin = _ref3.parentOrigin,\n      parentOrigin = _ref3$parentOrigin === void 0 ? '*' : _ref3$parentOrigin,\n      _ref3$methods = _ref3.methods,\n      methods = _ref3$methods === void 0 ? {} : _ref3$methods,\n      timeout = _ref3.timeout;\n\n  if (window === window.top) {\n    var error = new Error('connectToParent() must be called within an iframe');\n    error.code = ERR_NOT_IN_IFRAME;\n    throw error;\n  }\n\n  var destroy;\n  var connectionDestructionPromise = new DestructionPromise(function (resolveConnectionDestructionPromise) {\n    destroy = resolveConnectionDestructionPromise;\n  });\n  var child = window;\n  var parent = child.parent;\n  var promise = new Penpal.Promise(function (resolveConnectionPromise, reject) {\n    var connectionTimeoutId;\n\n    if (timeout !== undefined) {\n      connectionTimeoutId = setTimeout(function () {\n        var error = new Error(\"Connection to parent timed out after \".concat(timeout, \"ms\"));\n        error.code = ERR_CONNECTION_TIMEOUT;\n        reject(error);\n        destroy();\n      }, timeout);\n    }\n\n    var handleMessageEvent = function handleMessageEvent(event) {\n      if ((parentOrigin === '*' || parentOrigin === event.origin) && event.source === parent && event.data.penpal === HANDSHAKE_REPLY) {\n        log('Child: Received handshake reply');\n        child.removeEventListener(MESSAGE, handleMessageEvent);\n        var info = {\n          localName: 'Child',\n          local: child,\n          remote: parent,\n          remoteOrigin: event.origin\n        };\n        var callSender = {};\n        connectCallReceiver(info, methods, connectionDestructionPromise);\n        connectCallSender(callSender, info, event.data.methodNames, connectionDestructionPromise);\n        clearTimeout(connectionTimeoutId);\n        resolveConnectionPromise(callSender);\n      }\n    };\n\n    child.addEventListener(MESSAGE, handleMessageEvent);\n    connectionDestructionPromise.then(function () {\n      child.removeEventListener(MESSAGE, handleMessageEvent);\n      var error = new Error('Connection destroyed');\n      error.code = ERR_CONNECTION_DESTROYED;\n      reject(error);\n    });\n    log('Child: Sending handshake');\n    parent.postMessage({\n      penpal: HANDSHAKE,\n      methodNames: Object.keys(methods)\n    }, parentOrigin);\n  });\n  return {\n    promise: promise,\n    destroy: destroy\n  };\n};\n\nvar _default = Penpal;\nexports.default = _default;","export function networkAdapter(network, gasRelay) {\n    var networkObj = typeof network === 'string' ? Object.assign({}, networks[network]) : network;\n    if (typeof networkObj !== 'object') {\n        throw new Error(\"[Portis] illegal 'network' parameter. Read more about it here: https://docs.portis.io/#/configuration?id=network\");\n    }\n    if (!networkObj.nodeUrl) {\n        throw new Error(\"[Portis] 'nodeUrl' is required. Read more about it here: https://docs.portis.io/#/configuration?id=network\");\n    }\n    if (gasRelay && !networkObj.gasRelayHubAddress) {\n        throw new Error(\"[Portis] can't find default gas relay hub for \" + network);\n    }\n    if (typeof network === 'string' && !gasRelay) {\n        delete networkObj.gasRelayHubAddress;\n    }\n    return networkObj;\n}\nvar networks = {\n    mainnet: {\n        nodeUrl: 'https://mainnet.infura.io/v3/faa4639b090f46499f29d894da0551a0',\n        chainId: '1',\n        gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n    },\n    ropsten: {\n        nodeUrl: 'https://ropsten.infura.io/v3/faa4639b090f46499f29d894da0551a0',\n        chainId: '3',\n        gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n    },\n    rinkeby: {\n        nodeUrl: 'https://rinkeby.infura.io/v3/faa4639b090f46499f29d894da0551a0',\n        chainId: '4',\n        gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n    },\n    goerli: {\n        nodeUrl: 'https://goerli.prylabs.net',\n        chainId: '5',\n    },\n    ubiq: {\n        nodeUrl: 'https://rpc1.ubiqscan.io',\n        chainId: '8',\n    },\n    thundercoreTestnet: {\n        nodeUrl: 'https://testnet-rpc.thundercore.com:8544',\n        chainId: '18',\n    },\n    orchid: {\n        nodeUrl: 'https://public-node.rsk.co',\n        chainId: '30',\n    },\n    orchidTestnet: {\n        nodeUrl: 'https://public-node.testnet.rsk.co',\n        chainId: '31',\n    },\n    kovan: {\n        nodeUrl: 'https://kovan.infura.io/v3/faa4639b090f46499f29d894da0551a0',\n        chainId: '42',\n        gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n    },\n    classic: {\n        nodeUrl: 'https://ethereumclassic.network',\n        chainId: '61',\n    },\n    sokol: {\n        nodeUrl: 'https://sokol.poa.network',\n        chainId: '77',\n    },\n    core: {\n        nodeUrl: 'https://core.poa.network',\n        chainId: '99',\n    },\n    xdai: {\n        nodeUrl: 'https://dai.poa.network',\n        chainId: '100',\n        gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n    },\n    thundercore: {\n        nodeUrl: 'https://mainnet-rpc.thundercore.com',\n        chainId: '108',\n    },\n    fuse: {\n        nodeUrl: 'https://rpc.fusenet.io',\n        chainId: '122',\n    },\n    lightstreams: {\n        nodeUrl: 'https://node.mainnet.lightstreams.io',\n        chainId: '163',\n    },\n    maticAlpha: {\n        nodeUrl: 'https://alpha.ethereum.matic.network',\n        chainId: '4626',\n    },\n    maticTestnet: {\n        nodeUrl: 'https://testnet2.matic.network',\n        chainId: '8995',\n    },\n};\n//# sourceMappingURL=networks.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar _a = require('ethereumjs-util'), addHexPrefix = _a.addHexPrefix, stripHexPrefix = _a.stripHexPrefix, BN = _a.BN;\nvar SIMPLE_GAS_COST = '0x5208'; // Hex for 21000, cost of a simple send.\nexport function getTxGas(query, txParams) {\n    return __awaiter(this, void 0, void 0, function () {\n        var block, _a, safeGas, simpleSend, gasLimitSpecified, gas, error_1;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0: return [4 /*yield*/, query.getBlockByNumber('latest', false)];\n                case 1:\n                    block = _b.sent();\n                    return [4 /*yield*/, safeTxGas(query, txParams, block.gasLimit)];\n                case 2:\n                    _a = _b.sent(), safeGas = _a.safeGas, simpleSend = _a.simpleSend, gasLimitSpecified = _a.gasLimitSpecified;\n                    if (simpleSend || gasLimitSpecified) {\n                        return [2 /*return*/, safeGas];\n                    }\n                    _b.label = 3;\n                case 3:\n                    _b.trys.push([3, 5, , 6]);\n                    return [4 /*yield*/, estimateTxGas(query, txParams, block.gasLimit, safeGas)];\n                case 4:\n                    gas = _b.sent();\n                    return [2 /*return*/, gas];\n                case 5:\n                    error_1 = _b.sent();\n                    return [2 /*return*/, safeGas];\n                case 6: return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction safeTxGas(query, txParams, blockGasLimitHex) {\n    return __awaiter(this, void 0, void 0, function () {\n        var gasLimitSpecified, recipient, hasRecipient, code, codeIsEmpty, err, blockGasLimitBN, saferGasLimitBN;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    gasLimitSpecified = Boolean(txParams.gas);\n                    // if it is, use that value\n                    if (gasLimitSpecified) {\n                        return [2 /*return*/, { safeGas: txParams.gas, simpleSend: false, gasLimitSpecified: true }];\n                    }\n                    recipient = txParams.to;\n                    hasRecipient = Boolean(recipient);\n                    if (!hasRecipient) return [3 /*break*/, 2];\n                    return [4 /*yield*/, query.getCode(recipient)];\n                case 1:\n                    code = _a.sent();\n                    codeIsEmpty = !code || code === '0x' || code === '0x0';\n                    if (codeIsEmpty) {\n                        // if there's data in the params, but there's no contract code, it's not a valid transaction\n                        if (txParams.data) {\n                            err = new Error('Trying to call a function on a non-contract address');\n                            throw err;\n                        }\n                        // This is a standard ether simple send, gas requirement is exactly 21k\n                        return [2 /*return*/, { safeGas: SIMPLE_GAS_COST, simpleSend: true, gasLimitSpecified: false }];\n                    }\n                    _a.label = 2;\n                case 2:\n                    blockGasLimitBN = hexToBn(blockGasLimitHex);\n                    saferGasLimitBN = BnMultiplyByFraction(blockGasLimitBN, 19, 20);\n                    return [2 /*return*/, { safeGas: bnToHex(saferGasLimitBN), simpleSend: false, gasLimitSpecified: false }];\n            }\n        });\n    });\n}\nfunction estimateTxGas(query, txParams, blockGasLimitHex, safeGas) {\n    return __awaiter(this, void 0, void 0, function () {\n        var estimatedGas, _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    txParams.gas = safeGas;\n                    _a = addHexPrefix;\n                    return [4 /*yield*/, query.estimateGas(txParams)];\n                case 1:\n                    estimatedGas = _a.apply(void 0, [_b.sent()]);\n                    return [2 /*return*/, addGasBuffer(estimatedGas, blockGasLimitHex)];\n            }\n        });\n    });\n}\nfunction addGasBuffer(initialGasLimitHex, blockGasLimitHex) {\n    var initialGasLimitBn = hexToBn(initialGasLimitHex);\n    var blockGasLimitBn = hexToBn(blockGasLimitHex);\n    var upperGasLimitBn = blockGasLimitBn.muln(0.9);\n    var bufferedGasLimitBn = initialGasLimitBn.muln(1.5);\n    // if initialGasLimit is above blockGasLimit, dont modify it\n    if (initialGasLimitBn.gt(upperGasLimitBn))\n        return bnToHex(initialGasLimitBn);\n    // if bufferedGasLimit is below blockGasLimit, use bufferedGasLimit\n    if (bufferedGasLimitBn.lt(upperGasLimitBn))\n        return bnToHex(bufferedGasLimitBn);\n    // otherwise use blockGasLimit\n    return bnToHex(upperGasLimitBn);\n}\nfunction hexToBn(inputHex) {\n    return new BN(stripHexPrefix(inputHex), 16);\n}\nfunction bnToHex(inputBn) {\n    return addHexPrefix(inputBn.toString(16));\n}\nfunction BnMultiplyByFraction(targetBN, numerator, denominator) {\n    var numBN = new BN(numerator);\n    var denomBN = new BN(denominator);\n    return targetBN.mul(numBN).div(denomBN);\n}\n//# sourceMappingURL=getTxGas.js.map","var Query = /** @class */ (function () {\n    function Query(provider) {\n        this.provider = provider;\n    }\n    Query.prototype.getBlockByNumber = function (blockNumber, fullTransaction) {\n        return this.sendAsync('eth_getBlockByNumber', blockNumber, fullTransaction);\n    };\n    Query.prototype.getCode = function (address, blockNumber) {\n        if (blockNumber === void 0) { blockNumber = 'latest'; }\n        return this.sendAsync('eth_getCode', address, blockNumber);\n    };\n    Query.prototype.estimateGas = function (txParams) {\n        return this.sendAsync('eth_estimateGas', txParams);\n    };\n    Query.prototype.sendAsync = function (methodName) {\n        var _this = this;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        return new Promise(function (resolve, reject) {\n            _this.provider.sendAsync({\n                id: 42,\n                jsonrpc: '2.0',\n                method: methodName,\n                params: args,\n            }, function (error, response) {\n                if (error) {\n                    reject(error);\n                }\n                else {\n                    resolve(response.result);\n                }\n            });\n        });\n    };\n    return Query;\n}());\nexport { Query };\n//# sourceMappingURL=query.js.map","var loaded = false;\nexport function onWindowLoad() {\n    return new Promise(function (resolve) {\n        if (loaded) {\n            resolve();\n        }\n        else if (['loaded', 'interactive', 'complete'].indexOf(document.readyState) > -1) {\n            loaded = true;\n            resolve();\n        }\n        else {\n            window.addEventListener('load', function () {\n                loaded = true;\n                resolve();\n            }, false);\n        }\n    });\n}\n//# sourceMappingURL=onWindowLoad.js.map","/**\n *\n *\n * @class Blockchain\n */\nclass Blockchain {\n  /**\n   * Creates an instance of Blockchain.\n   * @param {String} name - Blockchain's name.\n   * @param {String} netID - Network identifier.\n   * @memberof Blockchain\n   */\n  constructor(name, netID) {\n    this.name = name;\n    this.netID = netID;\n  }\n  /**\n   *\n   * toJSON\n   * @returns {JSON} - A JSON object.\n   * @memberof Blockchain\n   */\n  toJSON() {\n    return JSON.parse('{ \"name\":\"' + \n    this.name + '\", \"netID\":\"' + \n    this.netID + '\"}')\n  }\n}\n\nmodule.exports = {\n  Blockchain\n}","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\nvar isBuffer = require('is-buffer');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\nmodule.exports = function isBuffer (obj) {\n  return obj != null && obj.constructor != null &&\n    typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.request = request;\n  error.response = response;\n  return error;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\nvar combineURLs = require('./../helpers/combineURLs');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\nvar defaults = require('./../defaults');\nvar utils = require('./../utils');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, {method: 'get'}, this.defaults, config);\n  config.method = config.method.toLowerCase();\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","module.exports = require('./lib/axios');","// Url's and Paths    \nconst dispatchNodeURL = \"https://dispatch.pokt.network\";\nconst dispatchPath = \"/v1/dispatch\";\nconst reportPath = \"/v1/report\";\nconst relayPath = \"/v1/relay/\";\n\n\nmodule.exports = {\n    dispatchNodeURL,\n    dispatchPath,\n    reportPath,\n    relayPath\n}","const axios = require('axios');\nconst constants = require(\"../utils/constants.js\");\nconst httpsRequestProtocol = \"https://\";\nconst httpRequestProtocol = \"http://\";\n// Dispatch\n/**\n *\n *\n * @class Node\n */\nclass Node {\n    /**\n     * Creates an instance of Node.\n     * @param {String} network - Network name.\n     * @param {String} netID - Network Identifier.\n     * @param {String} ipPort - Ip and port string (\"10.0.0.1:80\")\n     * @memberof Node\n     */\n    constructor(network, netID, ipPort) {\n        this.network = network;\n        this.netID = netID;\n        var ipPortArr = ipPort.split(\":\");\n        this.ip = ipPortArr[0];\n        this.port = ipPortArr[1];\n        if (ipPort.includes(httpsRequestProtocol) || ipPort.includes(httpRequestProtocol)) {\n            this.ipPort = ipPort;\n        } else {\n            if (this.port === \"443\" || this.port === 443) {\n                this.ipPort = httpsRequestProtocol + ipPort;\n            } else {\n                this.ipPort = httpRequestProtocol + ipPort;\n            }\n        }\n    }\n\n    /**\n     *\n     * Verify if all properties are valid\n     * @returns {boolean} - True or false.\n     * @memberof Node\n     */\n    isValid() {\n        for (var property in this) {\n            if (!this.hasOwnProperty(property) || this[property] == \"\") {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    /**\n     *\n     * Checks if params are equal to stored properties\n     * @param {String} netID - Network Identifier.\n     * @param {String} network - Network name.\n     * @returns {boolean} - True or false.\n     * @memberof Node\n     */\n    isEqual(netID, network) {\n        if (this.netID == netID.toString() && this.network == network.toString()) {\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     *\n     * Sends a relay to a service node\n     * @param {Relay} relay - Relay object with the information.\n     * @param {callback} callback - callback handler.\n     * @returns {Object} - Object with the response.\n     * @memberof Node\n     */\n    async sendRelay(relay, callback) {\n        try {\n            const axiosInstance = axios.create({\n                baseURL: this.ipPort,\n                timeout: relay.configuration.requestTimeOut,\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            });\n\n            var response = await axiosInstance.post(constants.relayPath,\n                relay.toJSON()\n            );\n\n            if (response.status == 200 && response.data != null) {\n                var result = response.data;\n\n                if (callback) {\n                    callback(result, null);\n                    return;\n                } else {\n                    return result;\n                }\n            } else {\n                if (callback) {\n                    callback(null, new Error(\"Failed to send relay with error: \" + response.data));\n                    return;\n                } else {\n                    return new Error(\"Failed to send relay with error: \" + response.data);\n                }\n            }\n        } catch (error) {\n            if (callback) {\n                callback(null, new Error(\"Failed to send relay with error: \" + error));\n                return;\n            } else {\n                return new Error(\"Failed to send relay with error: \" + error);\n            }\n        }\n    }\n}\n\nmodule.exports = {\n    Node\n}","const axios = require('axios');\nconst Node = require(\"./node.js\").Node;\nconst constants = require(\"../utils/constants.js\");\n\n// Dispatch\n/**\n *\n *\n * @class Dispatch\n */\nclass Dispatch {\n  /**\n   *Creates an instance of Dispatch.\n   * @param {Configuration} configuration - Configuration object.\n   * @memberof Dispatch\n   */\n  constructor(configuration) {\n    this.configuration = configuration;\n    this.axiosInstance = axios.create({\n      baseURL: constants.dispatchNodeURL,\n      path: constants.dispatchPath,\n      timeout: this.configuration.requestTimeOut,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n  }\n  /**\n   *\n   * blockchain object to JSON\n   * @returns {JSON} - JSON Array with the blockchain list.\n   * @memberof Dispatch\n   */\n  blockchainsJSON() {\n    var blockchainArray = []\n    this.configuration.blockchains.forEach(element => {\n      blockchainArray.push(element);\n    });\n    return blockchainArray\n  }\n  /**\n   *\n   * Retrieves a list of service nodes\n   * @param {callback} callback\n   * @returns {Node} - A Node object list.\n   * @memberof Dispatch\n   */\n  async retrieveServiceNodes(callback) {\n    try {\n      var dispatch = this;\n      var response = null;\n\n      response = await this.axiosInstance.post(constants.dispatchPath, {\n        \"DevID\": dispatch.configuration.devID,\n        \"Blockchains\": dispatch.blockchainsJSON()\n      });\n\n      if (response != null && response.status == 200 && response.data != null) {\n        var nodes = this.parseDispatchResponse(response.data);\n\n        if (callback) {\n          callback(nodes, null);\n          return;\n        } else {\n          return nodes;\n        }\n      } else {\n        if (callback) {\n          callback(null, new Error(\"Failed to retrieve service nodes with error: \" + response.data));\n          return;\n        } else {\n          return new Error(\"Failed to retrieve service nodes with error: \" + response.data);\n        }\n      }\n    } catch (err) {\n      if (callback) {\n        callback(null, new Error(\"Failed to retrieve service nodes with error: \" + err));\n        return;\n      } else {\n        return new Error(\"Failed to retrieve service nodes with error: \" + err);\n      }\n    }\n  }\n\n  /**\n   *\n   * Parse the response from the dispatcher\n   * @param {Object} response\n   * @returns {Node} - A Node object list.\n   * @memberof Dispatch\n   */\n  parseDispatchResponse(response) {\n    try {\n      // Variables\n      var nodes = [];\n\n      if (Array.isArray(response)) {\n        // Iterate through the array for different networks results\n        response.forEach(element => {\n          \n          var network = element.name;\n          var netID = element.netid;\n\n          if (element.ips) {\n            // Create a Node object for each item inside the dataKey object, IP:PORT\n            element.ips.forEach(ipPort => {\n              var node = new Node(network, netID, ipPort);\n              nodes.push(node);\n            });\n          }\n        });\n      } else {\n\n        var network = response.name;\n        var netID = response.netid;\n\n        if (response.ips) {\n          // Create a Node object for each item inside the dataKey object, IP:PORT\n          response.ips.forEach(ipPort => {\n            var node = new Node(network, netID, ipPort);\n            nodes.push(node);\n          });\n        }\n\n      }\n      return nodes;\n\n    } catch (error) {\n      return new Error(\"Failed to parsed service nodes with error: \" + error);\n    }\n\n  }\n\n}\n\nmodule.exports = {\n  Dispatch\n}","// Relay\n/**\n *\n *\n * @class Relay\n */\nclass Relay {\n\t/**\n\t * Creates an instance of Relay.\n\t * @param {Blockchain} blockchain - A blockchain object.\n\t * @param {String} netID - Network identifier.\n\t * @param {String} data - Data string.\n\t * @param {Configuration} configuration - Configuration object.\n\t * @memberof Relay\n\t */\n\tconstructor(blockchain, netID, data, configuration) {\n\t\tthis.blockchain = blockchain;\n\t\tthis.netID = netID;\n\t\tthis.data = data;\n\t\tthis.configuration = configuration;\n\t}\n\n\t/**\n\t *\n\t * Parse properties to a JSON Object.\n\t * @returns {JSON} - A JSON Object.\n\t * @memberof Relay\n\t */\n\ttoJSON(){\n\t\treturn {\n\t\t\t\"Blockchain\": this.blockchain,\n\t\t\t\"NetID\": this.netID,\n\t\t\t\"Data\": this.data,\n\t\t\t\"DevID\": this.configuration.devID\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * Verifies if the Relay is valid\n\t * @returns {boolean} - True or false\n\t * @memberof Relay\n\t */\n\tisValid(){\n\t\tfor (var property in this) {\n\t\t\tif (!this.hasOwnProperty(property) || this[property] == \"\") {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n}\n\nmodule.exports = {\n\tRelay\n}","const axios = require('axios');\nconst constants = require(\"../utils/constants.js\");\n\n// Report\n/**\n *\n *\n * @class Report\n */\nclass Report {\n\t/**\n   * Creates an instance of Report.\n   * @param {String} ip - Internet protocol address of the node.\n   * @param {String} message - Message describing the report.\n   * @param {Configuration} configuration - Configuration object.\n   * @memberof Report\n   */\n  constructor(ip, message, configuration) {\n\t\tthis.ip = ip;\n        this.message = message;\n        this.configuration = configuration;\n    }\n    /**\n     *\n\t   * Parse properties to a JSON Object.\n\t   * @returns {JSON} - A JSON Object.\n     * @memberof Report\n     */\n    toJSON(){\n      return {\n        \"IP\": this.ip,\n        \"Message\": this.message\n      }\n    }\n    /**\n     *\n\t   * Verifies if the Report is valid\n\t   * @returns {boolean} - True or false\n     * @memberof Report\n     */\n    isValid(){\n      for (var property in this) {\n        if (!this.hasOwnProperty(property) || this[property] == \"\") {\n          return false;\n        }\n      }\n      return true;\n    }\n    /**\n     *\n     * Sends a report to the dispatcher.\n     * @param {callback} callback\n     * @returns {String} - An string with the result.\n     * @memberof Report\n     */\n    async send(callback){\n        const axiosInstance = axios.create({\n            baseURL: constants.dispatchNodeURL,\n            timeout: this.configuration.requestTimeOut,\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          });\n    \n          var response = await axiosInstance.post(constants.reportPath,\n            this.toJSON()\n          );\n    \n          if (response.status == 200 && response.data != null) {\n            if (callback) {\n              callback(null, response.data);\n              return;\n            }\n            return response.data;\n          } else {\n            if (callback) {\n              callback(new Error(\"Failed to send report with error: \" + response.data));\n              return;\n            }\n            return new Error(\"Failed to send report with error: \" + response.data);\n          }\n    }\n}\n\nmodule.exports = {\n\tReport\n}","// Wallet - Model\nclass Wallet {\n\t/**\n\t * Creates an instance of Wallet.\n\t * @param {String} address - Public Key string.\n\t * @param {String} privateKey - Private Key string.\n\t * @param {String} network - Network name.\n\t * @param {String} networkID - Network Identifier.\n\t * @param {Object} data - Optional data object.\n\t * @memberof Wallet\n\t */\n\tconstructor(address, privateKey, network, networkID, data) {\n\t\tthis.address = address;\n\t\tthis.privateKey = privateKey;\n\t\tthis.network = network;\n\t\tthis.networkID = networkID;\n\t\tthis.data = data;\n\t}\n}\n\nmodule.exports = {\n\tWallet\n}","module.exports = Object.assign(\n        module.exports, \n        require('./blockchain'), \n        require('./dispatch'), \n        require('./node'), \n        require('./relay'),\n        require('./report'),\n        require('./wallet')\n    )","const Models = require(\"./models/index\");\nconst Blockchain = Models.Blockchain;\nconst Dispatch = Models.Dispatch;\nconst Relay = Models.Relay;\nconst Report = Models.Report;\n\n/**\n *\n *\n * @class Configuration\n */\nclass Configuration {\n  /**\n   * Configuration stores settings.\n   * @constructor\n   * @param {string} devID - Unique developer ID.\n   * @param {string} blockchains - Blockchain class type list.\n   * @param {string} maxNodes - (optional) Maximun amount of nodes to store in instance, default 5.\n   * @param {string} requestTimeOut - (optional) Maximun timeout for every request in miliseconds, default 10000.\n   */\n  constructor(devID, blockchains, maxNodes, requestTimeOut) {\n    this.devID = devID;\n    this.blockchains = blockchains;\n    this.maxNodes = maxNodes || 5;\n    this.nodes = [];\n    this.requestTimeOut = requestTimeOut || 10000;\n    this.dispatch = null;\n  }\n  /**\n   * Verify if the nodes list is empty\n   *\n   * @returns {Boolean}\n   * @memberof Configuration\n   */\n  nodesIsEmpty() {\n    if (this.nodes == null || this.nodes.length == 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\n/**\n *\n *\n * @class Pocket\n */\nclass Pocket {\n  /**\n   * Creates an instance of Pocket.\n   * @param {Object} opts - Options for the initializer, devID, networkName, netIDs, maxNodes, requestTimeOut.\n   * @memberof Pocket\n   */\n  constructor(opts) {\n    var blockchains = [];\n\n    if (opts.devID == null || opts.networkName == null || opts.netIDs == null) {\n      return new Error(\"Invalid number of arguments\");\n    }\n\n    if (Array.isArray(opts.netIDs)) {\n      opts.netIDs.forEach(element => {\n        var blockchain = new Blockchain(opts.networkName, element);\n        blockchains.push(blockchain.toJSON());\n      });\n    } else {\n      var blockchain = new Blockchain(opts.networkName, opts.netIDs);\n      blockchains.push(blockchain.toJSON());\n    }\n\n    this.configuration = new Configuration(opts.devID, blockchains, opts.maxNodes || 5, opts.requestTimeOut || 10000);\n\n  }\n  /**\n   *\n   * Create a Relay instance\n   * @param {Blockchain} blockchain - Blockchain object.\n   * @param {String} netID - Network Idenfifier.\n   * @param {String} data - String holding the json rpc call.\n   * @returns {Relay} - New Relay instance.\n   * @memberof Pocket\n   */\n  createRelay(blockchain, netID, data) {\n    // Check if data is a json tring\n    if (typeof data == 'string') {\n      return new Relay(blockchain, netID, data, this.configuration); \n    }\n    return new Relay(blockchain, netID, JSON.stringify(data), this.configuration);\n  }\n  /**\n   *\n   * Create a Report instance\n   * @param {String} ip - Internet protocol address.\n   * @param {String} message - Brief description for the report.\n   * @returns {Report} - New Report instance.\n   * @memberof Pocket\n   */\n  createReport(ip, message) {\n    return new Report(ip, message, this.configuration);\n  }\n  /**\n   *\n   * Get a Dispatch instance or creates one\n   * @returns {Dispatch} - New or existing Dispatch instance.\n   * @memberof Pocket\n   */\n  getDispatch() {\n    if (this.dispatch == null) {\n      this.dispatch = new Dispatch(this.configuration);\n    }\n    return this.dispatch;\n  }\n  /**\n   *\n   * Filter nodes by netID and blockchain name\n   * @param {String} netID - Network Idenfifier.\n   * @param {String} network - Network Name.\n   * @returns {Node} - New Node instance.\n   * @memberof Pocket\n   */\n  async getNode(netID, network) {\n    try {\n      var nodes = [];\n\n      if (this.configuration.nodesIsEmpty()) {\n        var response = await this.retrieveNodes();\n\n        if (response instanceof Error == true) {\n          throw response;\n        }else {\n          // Save the nodes to the configuration.\n          this.configuration.nodes = response;\n        }\n      }\n      \n      this.configuration.nodes.forEach(node => {\n        if (node.isEqual(netID, network)) {\n          nodes.push(node);\n        }\n      });\n\n      if (nodes.length <= 0) {\n        return null\n      }\n\n      return nodes[Math.floor(Math.random() * nodes.length)];\n    } catch (error) {\n      return null;\n    }\n  }\n  /**\n   *\n   * Send a report\n   * @param {Report} report - Report instance with the information.\n   * @param {callback} callback - callback handler.\n   * @returns {String} - A String with the response.\n   * @memberof Pocket\n   */\n  async sendReport(report, callback) {\n    try {\n      // Check for report\n      if (report == null) {\n        throw new Error(\"Report is null\");\n      }\n      // Verify all report properties are set\n      if (!report.isValid()) {\n        throw new Error(\"One or more Report properties are empty.\");\n      }\n      // Send Report\n      var response = await report.send();\n      // Response\n      if (response instanceof Error == false) {\n        if (callback) {\n          callback(null, response);\n          return;\n        } else {\n          return response;\n        }\n      } else {\n        if (callback) {\n          callback(response);\n          return;\n        } else {\n          return response;\n        }\n      }\n    } catch (error) {\n      if (callback) {\n        callback(error);\n        return;\n      } else {\n        return error;\n      }\n    }\n  }\n  /**\n   *\n   * Send an already created Relay\n   * @param {Relay} relay - Relay instance with the information.\n   * @param {callback} callback - callback handler.\n   * @returns {String} - A String with the response.\n   * @memberof Pocket\n   */\n  async sendRelay(relay, callback) {\n    try {\n      // Check for relay\n      if (relay == null || relay.data == null) {\n        if (callback) {\n          callback(new Error(\"Relay is null or data field is missing\"));\n          return;\n        } else {\n          return new Error(\"Relay is null or data field is missing\");\n        }\n      }\n      // Verify all relay properties are set\n      if (!relay.isValid()) {\n        if (callback) {\n          callback(new Error(\"Relay is missing a property, please verify all properties.\"));\n          return;\n        } else {\n          return new Error(\"Relay is missing a property, please verify all properties.\");\n        }\n      }\n\n      // Filter nodes for specified blockchain\n      var node = await this.getNode(relay.netID,\n        relay.blockchain);\n\n      if (node == null) {\n        if (callback) {\n          callback(new Error(\"Node is empty.\"));\n          return;\n        } else {\n          return new Error(\"Node is empty.\");\n        }\n      }\n\n      // Send relay\n      var response = await node.sendRelay(relay);\n      // Response\n      if (response instanceof Error == false) {\n        if (callback) {\n          callback(null, response);\n          return;\n        } else {\n          return response;\n        }\n      } else {\n        if (callback) {\n          callback(response);\n          return;\n        } else {\n          return response;\n        }\n      }\n\n    } catch (error) {\n      if (callback) {\n        callback(new Error(\"Failed to send relay with error: \" + error));\n        return;\n      } else {\n        return new Error(\"Failed to send relay with error: \" + error);\n      }\n    }\n\n  }\n  /**\n   *\n   * Retrieve a list of service nodes from the Node Dispatcher\n   * @param {callback} callback\n   * @returns {Node} - A list of Nodes.\n   * @memberof Pocket\n   */\n  async retrieveNodes(callback) {\n    try {\n      var dispatch = this.getDispatch();\n      var nodes = await dispatch.retrieveServiceNodes();\n      \n      if (nodes instanceof Error == false && nodes.length != 0) {\n        // Save the nodes to the configuration.\n        this.configuration.nodes = nodes;\n        // Return a list of nodes\n        if (callback) {\n          callback(null, nodes);\n          return;\n        } else {\n          return nodes;\n        }\n      } else {\n        // Returns an Error;\n        if (callback) {\n          callback(new Error(\"Failed to retrieve a list of nodes.\"), null);\n          return;\n        } else {\n          return new Error(\"Failed to retrieve a list of nodes.\");\n        }\n      }\n\n    } catch (error) {\n      if (callback) {\n        callback(new Error(\"Failed to retrieve a list of nodes with error: \"+error), null);\n        return;\n      } else {\n        return new Error(\"Failed to retrieve a list of nodes with error: \"+error);\n      }\n    }\n  }\n\n}\n\nmodule.exports = Pocket;","const Models = require(\"./models/index\");\nconst Wallet = Models.Wallet;\nconst Relay = Models.Relay;\nconst Pocket = require(\"./pocket\");\n\nmodule.exports = {\n  Pocket,\n  Wallet,\n  Relay\n}","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport ProviderEngine from '@portis/web3-provider-engine';\nimport CacheSubprovider from '@portis/web3-provider-engine/subproviders/cache.js';\nimport FixtureSubprovider from '@portis/web3-provider-engine/subproviders/fixture.js';\nimport FilterSubprovider from '@portis/web3-provider-engine/subproviders/filters.js';\nimport HookedWalletSubprovider from '@portis/web3-provider-engine/subproviders/hooked-wallet.js';\nimport NonceSubprovider from '@portis/web3-provider-engine/subproviders/nonce-tracker.js';\nimport SubscriptionsSubprovider from '@portis/web3-provider-engine/subproviders/subscriptions.js';\nimport Penpal from 'penpal';\nimport { networkAdapter } from './networks';\nimport { getTxGas } from './utils/getTxGas';\nimport { Query } from './utils/query';\nimport { onWindowLoad } from './utils/onWindowLoad';\nimport { styles } from './styles';\nimport { validateSecureOrigin } from './utils/secureOrigin';\nimport PocketJSCore from 'pocket-js-core';\nvar VERSION = '2.0.0-beta.54';\nvar WIDGET_URL = 'https://widget.portis.io';\nvar SUPPORTED_SCOPES = ['email', 'reputation'];\nvar tempCachingIFrame = document.createElement('iframe');\ntempCachingIFrame.style.width = '0';\ntempCachingIFrame.style.height = '0';\ntempCachingIFrame.style.border = 'none';\ntempCachingIFrame.style.position = 'absolute';\ntempCachingIFrame.style.top = '-999px';\ntempCachingIFrame.style.left = '-999px';\ntempCachingIFrame.src = WIDGET_URL;\nonWindowLoad().then(function () {\n    document.body.appendChild(tempCachingIFrame);\n});\nvar Portis = /** @class */ (function () {\n    function Portis(dappId, network, options) {\n        if (options === void 0) { options = {}; }\n        this._widgetUrl = WIDGET_URL;\n        validateSecureOrigin();\n        this._valiadateParams(dappId, network, options);\n        this.config = {\n            dappId: dappId,\n            network: networkAdapter(network, options.gasRelay),\n            version: VERSION,\n            scope: options.scope,\n            registerPageByDefault: options.registerPageByDefault,\n        };\n        this.widget = this._initWidget();\n        this.provider = this._initProvider(options);\n    }\n    Portis.prototype.changeNetwork = function (network, gasRelay) {\n        var newNetwork = networkAdapter(network, gasRelay);\n        this.clearSubprovider(NonceSubprovider);\n        this.clearSubprovider(CacheSubprovider);\n        this.config.network = newNetwork;\n    };\n    Portis.prototype.setDefaultEmail = function (email) {\n        this.config.defaultEmail = email;\n    };\n    Portis.prototype.showPortis = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.showPortis(this.config)];\n                }\n            });\n        });\n    };\n    Portis.prototype.logout = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.logout()];\n                }\n            });\n        });\n    };\n    Portis.prototype.onLogin = function (callback) {\n        this._onLoginCallback = callback;\n    };\n    Portis.prototype.onLogout = function (callback) {\n        this._onLogoutCallback = callback;\n    };\n    Portis.prototype.onActiveWalletChanged = function (callback) {\n        this._onActiveWalletChangedCallback = callback;\n    };\n    Portis.prototype.onError = function (callback) {\n        this._onErrorCallback = callback;\n    };\n    Portis.prototype.getExtendedPublicKey = function (path, coin) {\n        if (path === void 0) { path = \"m/44'/60'/0'/0/0\"; }\n        if (coin === void 0) { coin = 'Ethereum'; }\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.getExtendedPublicKey(path, coin, this.config)];\n                }\n            });\n        });\n    };\n    Portis.prototype.importWallet = function (mnemonicOrPrivateKey) {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.importWallet(mnemonicOrPrivateKey, this.config)];\n                }\n            });\n        });\n    };\n    Portis.prototype.isLoggedIn = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.isLoggedIn()];\n                }\n            });\n        });\n    };\n    Portis.prototype.signBitcoinTransaction = function (params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.signBitcoinTransaction(params, this.config)];\n                }\n            });\n        });\n    };\n    Portis.prototype.showBitcoinWallet = function (path) {\n        if (path === void 0) { path = \"m/49'/0'/0'/0/0\"; }\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.showBitcoinWallet(path, this.config)];\n                }\n            });\n        });\n    };\n    Portis.prototype._valiadateParams = function (dappId, network, options) {\n        if (!dappId) {\n            throw new Error(\"[Portis] 'dappId' is required. Get your dappId here: https://dashboard.portis.io\");\n        }\n        if (!network) {\n            throw new Error(\"[Portis] 'network' is required. Read more about it here: https://docs.portis.io/#/configuration?id=network\");\n        }\n        if (options.scope) {\n            if (!Array.isArray(options.scope)) {\n                throw new Error(\"[Portis] 'scope' must be an array. Read more about it here: https://docs.portis.io/#/configuration?id=scope\");\n            }\n            var unknownScope = options.scope.filter(function (item) { return SUPPORTED_SCOPES.indexOf(item) < 0; });\n            if (unknownScope.length > 0) {\n                throw new Error(\"[Portis] invalid 'scope' parameter. Read more about it here: https://docs.portis.io/#/configuration?id=scope\");\n            }\n        }\n        if (options.registerPageByDefault !== undefined && typeof options.registerPageByDefault !== 'boolean') {\n            throw new Error(\"[Portis] invalid 'registerPageByDefault' parameter, must be a boolean. Read more about it here: https://docs.portis.io/#/configuration?id=registerPageByDefault\");\n        }\n    };\n    Portis.prototype._initWidget = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var style, container, widgetFrame, connection, communication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, onWindowLoad()];\n                    case 1:\n                        _a.sent();\n                        if (document.body.contains(tempCachingIFrame)) {\n                            document.body.removeChild(tempCachingIFrame);\n                        }\n                        style = document.createElement('style');\n                        style.innerHTML = styles;\n                        container = document.createElement('div');\n                        container.className = 'por_portis-container';\n                        widgetFrame = document.createElement('div');\n                        widgetFrame.id = \"portis-container-\" + Date.now();\n                        widgetFrame.className = 'por_portis-widget-frame';\n                        container.appendChild(widgetFrame);\n                        document.body.appendChild(container);\n                        document.head.appendChild(style);\n                        connection = Penpal.connectToChild({\n                            url: this._widgetUrl,\n                            appendTo: document.getElementById(widgetFrame.id),\n                            methods: {\n                                setHeight: this._setHeight.bind(this),\n                                getWindowSize: this._getWindowSize.bind(this),\n                                onLogin: this._onLogin.bind(this),\n                                onLogout: this._onLogout.bind(this),\n                                onActiveWalletChanged: this._onActiveWalletChanged.bind(this),\n                                onError: this._onError.bind(this),\n                            },\n                        });\n                        connection.iframe.style.position = 'absolute';\n                        connection.iframe.style.height = '100%';\n                        connection.iframe.style.width = '100%';\n                        connection.iframe.style.border = '0 transparent';\n                        return [4 /*yield*/, connection.promise];\n                    case 2:\n                        communication = _a.sent();\n                        communication.retrieveSession(this.config);\n                        return [2 /*return*/, { communication: communication, iframe: connection.iframe, widgetFrame: widgetFrame }];\n                }\n            });\n        });\n    };\n    Portis.prototype._initProvider = function (options) {\n        var _this = this;\n        var engine = new ProviderEngine();\n        var query = new Query(engine);\n        engine.send = function (payload, callback) {\n            // Web3 1.0 beta.38 (and above) calls `send` with method and parameters\n            if (typeof payload === 'string') {\n                return new Promise(function (resolve, reject) {\n                    engine.sendAsync({\n                        jsonrpc: '2.0',\n                        id: 42,\n                        method: payload,\n                        params: callback || [],\n                    }, function (error, response) {\n                        if (error) {\n                            reject(error);\n                        }\n                        else {\n                            resolve(response.result);\n                        }\n                    });\n                });\n            }\n            // Web3 1.0 beta.37 (and below) uses `send` with a callback for async queries\n            if (callback) {\n                engine.sendAsync(payload, callback);\n                return;\n            }\n            var result = null;\n            switch (payload.method) {\n                case 'eth_accounts':\n                    result = _this._selectedAddress ? [_this._selectedAddress] : [];\n                    break;\n                case 'eth_coinbase':\n                    result = _this._selectedAddress ? [_this._selectedAddress] : [];\n                    break;\n                case 'net_version':\n                    result = _this._network;\n                    break;\n                case 'eth_uninstallFilter':\n                    engine.sendAsync(payload, function (_) { return _; });\n                    result = true;\n                    break;\n                default:\n                    var message = \"The Portis Web3 object does not support synchronous methods like \" + payload.method + \" without a callback parameter.\";\n                    throw new Error(message);\n            }\n            return {\n                id: payload.id,\n                jsonrpc: payload.jsonrpc,\n                result: result,\n            };\n        };\n        engine.addProvider(new FixtureSubprovider({\n            web3_clientVersion: \"Portis/v\" + this.config.version + \"/javascript\",\n            net_listening: true,\n            eth_hashrate: '0x00',\n            eth_mining: false,\n            eth_syncing: true,\n        }));\n        engine.addProvider(new CacheSubprovider());\n        engine.addProvider(new SubscriptionsSubprovider());\n        engine.addProvider(new FilterSubprovider());\n        engine.addProvider(new NonceSubprovider());\n        engine.addProvider({\n            setEngine: function (_) { return _; },\n            handleRequest: function (payload, next, end) { return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    if (!payload.id) {\n                        payload.id = 42;\n                    }\n                    next();\n                    return [2 /*return*/];\n                });\n            }); },\n        });\n        engine.addProvider(new HookedWalletSubprovider({\n            getAccounts: function (cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            return [4 /*yield*/, widgetCommunication.getAccounts(this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            if (!error && result) {\n                                this._selectedAddress = result[0];\n                            }\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            signTransaction: function (txParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            return [4 /*yield*/, widgetCommunication.signTransaction(txParams, this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            signMessage: function (msgParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, params, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            params = Object.assign({}, msgParams, { messageStandard: 'signMessage' });\n                            return [4 /*yield*/, widgetCommunication.signMessage(params, this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            signPersonalMessage: function (msgParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, params, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            params = Object.assign({}, msgParams, { messageStandard: 'signPersonalMessage' });\n                            return [4 /*yield*/, widgetCommunication.signMessage(params, this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            signTypedMessage: function (msgParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, params, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            params = Object.assign({}, msgParams, { messageStandard: 'signTypedMessage' });\n                            return [4 /*yield*/, widgetCommunication.signMessage(params, this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            signTypedMessageV3: function (msgParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, params, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            params = Object.assign({}, msgParams, { messageStandard: 'signTypedMessageV3' });\n                            return [4 /*yield*/, widgetCommunication.signMessage(params, this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            estimateGas: function (txParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var gas;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4 /*yield*/, getTxGas(query, txParams)];\n                        case 1:\n                            gas = _a.sent();\n                            cb(null, gas);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            getGasPrice: function (cb) { return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    cb(null, '');\n                    return [2 /*return*/];\n                });\n            }); },\n        }));\n        if (!options.pocketDevId) {\n            engine.addProvider({\n                setEngine: function (_) { return _; },\n                handleRequest: function (payload, next, end) { return __awaiter(_this, void 0, void 0, function () {\n                    var widgetCommunication, _a, error, result;\n                    return __generator(this, function (_b) {\n                        switch (_b.label) {\n                            case 0: return [4 /*yield*/, this.widget];\n                            case 1:\n                                widgetCommunication = (_b.sent()).communication;\n                                return [4 /*yield*/, widgetCommunication.relay(payload, this.config)];\n                            case 2:\n                                _a = _b.sent(), error = _a.error, result = _a.result;\n                                if (payload.method === 'net_version') {\n                                    this._network = result;\n                                    engine.networkVersion = this._network;\n                                }\n                                end(error, result);\n                                return [2 /*return*/];\n                        }\n                    });\n                }); },\n            });\n        }\n        else {\n            var pocket_1 = new PocketJSCore.Pocket({\n                devID: options.pocketDevId,\n                networkName: 'ETH',\n                netIDs: [this.config.network.chainId],\n            });\n            engine.addProvider({\n                setEngine: function (_) { return _; },\n                handleRequest: function (payload, next, end) { return __awaiter(_this, void 0, void 0, function () {\n                    var response, result, error;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0: return [4 /*yield*/, pocket_1.sendRelay(new PocketJSCore.Relay('ETH', this.config.network.chainId, JSON.stringify(payload), pocket_1.configuration))];\n                            case 1:\n                                response = _a.sent();\n                                if (response instanceof Error || !response) {\n                                    error = response || new Error('Unknown error');\n                                    result = null;\n                                }\n                                else {\n                                    try {\n                                        result = JSON.parse(response).result;\n                                        error = null;\n                                    }\n                                    catch (e) {\n                                        result = null;\n                                        error = e;\n                                    }\n                                }\n                                if (payload.method === 'net_version') {\n                                    this._network = result;\n                                    engine.networkVersion = this._network;\n                                }\n                                end(error, result);\n                                return [2 /*return*/];\n                        }\n                    });\n                }); },\n            });\n        }\n        engine.enable = function () {\n            return new Promise(function (resolve, reject) {\n                engine.sendAsync({ method: 'eth_accounts' }, function (error, response) {\n                    if (error) {\n                        reject(error);\n                    }\n                    else {\n                        resolve(response.result);\n                    }\n                });\n            });\n        };\n        engine.isConnected = function () {\n            return true;\n        };\n        engine.isPortis = true;\n        engine.on('error', function (error) {\n            if (error && error.message && error.message.includes('PollingBlockTracker')) {\n                console.warn('If you see this warning constantly, there might be an error with your RPC node.');\n            }\n            else {\n                console.error(error);\n            }\n        });\n        engine.start();\n        return engine;\n    };\n    Portis.prototype._setHeight = function (height) {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetFrame;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetFrame = (_a.sent()).widgetFrame;\n                        widgetFrame.style.height = height + \"px\";\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Portis.prototype._getWindowSize = function () {\n        var body = document.getElementsByTagName('body')[0];\n        var width = window.innerWidth || document.documentElement.clientWidth || body.clientWidth;\n        var height = window.innerHeight || document.documentElement.clientHeight || body.clientHeight;\n        return { width: width, height: height };\n    };\n    Portis.prototype._onLogin = function (walletAddress, email, reputation) {\n        if (this._onLoginCallback) {\n            this._onLoginCallback(walletAddress, email, reputation);\n        }\n    };\n    Portis.prototype._onLogout = function () {\n        this._selectedAddress = '';\n        if (this._onLogoutCallback) {\n            this._onLogoutCallback();\n        }\n    };\n    Portis.prototype._onActiveWalletChanged = function (walletAddress) {\n        if (this._onActiveWalletChangedCallback) {\n            this._onActiveWalletChangedCallback(walletAddress);\n        }\n    };\n    Portis.prototype._onError = function (error) {\n        if (this._onErrorCallback) {\n            this._onErrorCallback(error);\n        }\n    };\n    Portis.prototype.clearSubprovider = function (subproviderType) {\n        var subprovider = this.provider._providers.find(function (subprovider) { return subprovider instanceof subproviderType; });\n        this.provider.removeProvider(subprovider);\n        this.provider.addProvider(new subproviderType());\n    };\n    return Portis;\n}());\nexport default Portis;\n//# sourceMappingURL=index.js.map","export function validateSecureOrigin() {\n    var isLocalhost = location.hostname === 'localhost' || location.hostname === '127.0.0.1';\n    var isSecureOrigin = location.protocol === 'https:';\n    var isSecure = isLocalhost || isSecureOrigin;\n    if (!isSecure) {\n        throw \"[Portis] Access to the WebCrypto API is restricted to secure origins.\\nIf this is a development environment please use http://localhost:\" + location.port + \" instead.\\nOtherwise, please use an SSL certificate.\";\n    }\n}\n//# sourceMappingURL=secureOrigin.js.map","export var styles = \"\\n.por_portis-container {\\n  position: fixed;\\n  width: 0px;\\n  height: 0px;\\n  top: 0px;\\n  right: 0px;\\n  z-index: 2147483647;\\n}\\n\\n@media (max-width: 576px) {\\n  .por_portis-container {\\n    bottom: 0;\\n    top: auto;\\n  }\\n}\\n\\n.por_portis-widget-frame {\\n  position: fixed;\\n  width: 375px;\\n  height: 0;\\n  top: 20px;\\n  right: 20px;\\n  box-shadow: 0 5px 40px rgba(0,0,0,.16);\\n  border-radius: 8px;\\n  overflow: hidden;\\n  z-index: 2147483000;\\n}\\n\\n@media (max-width: 576px) {\\n  .por_portis-widget-frame {\\n    bottom: 0;\\n    top: auto;\\n    width: 100%;\\n    right: 0;\\n    left: 0;\\n    border-bottom-left-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n}\\n\";\n//# sourceMappingURL=styles.js.map","var at, // The index of the current character\n    ch, // The current character\n    escapee = {\n        '\"':  '\"',\n        '\\\\': '\\\\',\n        '/':  '/',\n        b:    '\\b',\n        f:    '\\f',\n        n:    '\\n',\n        r:    '\\r',\n        t:    '\\t'\n    },\n    text,\n\n    error = function (m) {\n        // Call error when something is wrong.\n        throw {\n            name:    'SyntaxError',\n            message: m,\n            at:      at,\n            text:    text\n        };\n    },\n    \n    next = function (c) {\n        // If a c parameter is provided, verify that it matches the current character.\n        if (c && c !== ch) {\n            error(\"Expected '\" + c + \"' instead of '\" + ch + \"'\");\n        }\n        \n        // Get the next character. When there are no more characters,\n        // return the empty string.\n        \n        ch = text.charAt(at);\n        at += 1;\n        return ch;\n    },\n    \n    number = function () {\n        // Parse a number value.\n        var number,\n            string = '';\n        \n        if (ch === '-') {\n            string = '-';\n            next('-');\n        }\n        while (ch >= '0' && ch <= '9') {\n            string += ch;\n            next();\n        }\n        if (ch === '.') {\n            string += '.';\n            while (next() && ch >= '0' && ch <= '9') {\n                string += ch;\n            }\n        }\n        if (ch === 'e' || ch === 'E') {\n            string += ch;\n            next();\n            if (ch === '-' || ch === '+') {\n                string += ch;\n                next();\n            }\n            while (ch >= '0' && ch <= '9') {\n                string += ch;\n                next();\n            }\n        }\n        number = +string;\n        if (!isFinite(number)) {\n            error(\"Bad number\");\n        } else {\n            return number;\n        }\n    },\n    \n    string = function () {\n        // Parse a string value.\n        var hex,\n            i,\n            string = '',\n            uffff;\n        \n        // When parsing for string values, we must look for \" and \\ characters.\n        if (ch === '\"') {\n            while (next()) {\n                if (ch === '\"') {\n                    next();\n                    return string;\n                } else if (ch === '\\\\') {\n                    next();\n                    if (ch === 'u') {\n                        uffff = 0;\n                        for (i = 0; i < 4; i += 1) {\n                            hex = parseInt(next(), 16);\n                            if (!isFinite(hex)) {\n                                break;\n                            }\n                            uffff = uffff * 16 + hex;\n                        }\n                        string += String.fromCharCode(uffff);\n                    } else if (typeof escapee[ch] === 'string') {\n                        string += escapee[ch];\n                    } else {\n                        break;\n                    }\n                } else {\n                    string += ch;\n                }\n            }\n        }\n        error(\"Bad string\");\n    },\n\n    white = function () {\n\n// Skip whitespace.\n\n        while (ch && ch <= ' ') {\n            next();\n        }\n    },\n\n    word = function () {\n\n// true, false, or null.\n\n        switch (ch) {\n        case 't':\n            next('t');\n            next('r');\n            next('u');\n            next('e');\n            return true;\n        case 'f':\n            next('f');\n            next('a');\n            next('l');\n            next('s');\n            next('e');\n            return false;\n        case 'n':\n            next('n');\n            next('u');\n            next('l');\n            next('l');\n            return null;\n        }\n        error(\"Unexpected '\" + ch + \"'\");\n    },\n\n    value,  // Place holder for the value function.\n\n    array = function () {\n\n// Parse an array value.\n\n        var array = [];\n\n        if (ch === '[') {\n            next('[');\n            white();\n            if (ch === ']') {\n                next(']');\n                return array;   // empty array\n            }\n            while (ch) {\n                array.push(value());\n                white();\n                if (ch === ']') {\n                    next(']');\n                    return array;\n                }\n                next(',');\n                white();\n            }\n        }\n        error(\"Bad array\");\n    },\n\n    object = function () {\n\n// Parse an object value.\n\n        var key,\n            object = {};\n\n        if (ch === '{') {\n            next('{');\n            white();\n            if (ch === '}') {\n                next('}');\n                return object;   // empty object\n            }\n            while (ch) {\n                key = string();\n                white();\n                next(':');\n                if (Object.hasOwnProperty.call(object, key)) {\n                    error('Duplicate key \"' + key + '\"');\n                }\n                object[key] = value();\n                white();\n                if (ch === '}') {\n                    next('}');\n                    return object;\n                }\n                next(',');\n                white();\n            }\n        }\n        error(\"Bad object\");\n    };\n\nvalue = function () {\n\n// Parse a JSON value. It could be an object, an array, a string, a number,\n// or a word.\n\n    white();\n    switch (ch) {\n    case '{':\n        return object();\n    case '[':\n        return array();\n    case '\"':\n        return string();\n    case '-':\n        return number();\n    default:\n        return ch >= '0' && ch <= '9' ? number() : word();\n    }\n};\n\n// Return the json_parse function. It will have access to all of the above\n// functions and variables.\n\nmodule.exports = function (source, reviver) {\n    var result;\n    \n    text = source;\n    at = 0;\n    ch = ' ';\n    result = value();\n    white();\n    if (ch) {\n        error(\"Syntax error\");\n    }\n\n    // If there is a reviver function, we recursively walk the new structure,\n    // passing each name/value pair to the reviver function for possible\n    // transformation, starting with a temporary root object that holds the result\n    // in an empty key. If there is not a reviver function, we simply return the\n    // result.\n\n    return typeof reviver === 'function' ? (function walk(holder, key) {\n        var k, v, value = holder[key];\n        if (value && typeof value === 'object') {\n            for (k in value) {\n                if (Object.prototype.hasOwnProperty.call(value, k)) {\n                    v = walk(value, k);\n                    if (v !== undefined) {\n                        value[k] = v;\n                    } else {\n                        delete value[k];\n                    }\n                }\n            }\n        }\n        return reviver.call(holder, key, value);\n    }({'': result}, '')) : result;\n};\n","var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n    escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n    gap,\n    indent,\n    meta = {    // table of character substitutions\n        '\\b': '\\\\b',\n        '\\t': '\\\\t',\n        '\\n': '\\\\n',\n        '\\f': '\\\\f',\n        '\\r': '\\\\r',\n        '\"' : '\\\\\"',\n        '\\\\': '\\\\\\\\'\n    },\n    rep;\n\nfunction quote(string) {\n    // If the string contains no control characters, no quote characters, and no\n    // backslash characters, then we can safely slap some quotes around it.\n    // Otherwise we must also replace the offending characters with safe escape\n    // sequences.\n    \n    escapable.lastIndex = 0;\n    return escapable.test(string) ? '\"' + string.replace(escapable, function (a) {\n        var c = meta[a];\n        return typeof c === 'string' ? c :\n            '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n    }) + '\"' : '\"' + string + '\"';\n}\n\nfunction str(key, holder) {\n    // Produce a string from holder[key].\n    var i,          // The loop counter.\n        k,          // The member key.\n        v,          // The member value.\n        length,\n        mind = gap,\n        partial,\n        value = holder[key];\n    \n    // If the value has a toJSON method, call it to obtain a replacement value.\n    if (value && typeof value === 'object' &&\n            typeof value.toJSON === 'function') {\n        value = value.toJSON(key);\n    }\n    \n    // If we were called with a replacer function, then call the replacer to\n    // obtain a replacement value.\n    if (typeof rep === 'function') {\n        value = rep.call(holder, key, value);\n    }\n    \n    // What happens next depends on the value's type.\n    switch (typeof value) {\n        case 'string':\n            return quote(value);\n        \n        case 'number':\n            // JSON numbers must be finite. Encode non-finite numbers as null.\n            return isFinite(value) ? String(value) : 'null';\n        \n        case 'boolean':\n        case 'null':\n            // If the value is a boolean or null, convert it to a string. Note:\n            // typeof null does not produce 'null'. The case is included here in\n            // the remote chance that this gets fixed someday.\n            return String(value);\n            \n        case 'object':\n            if (!value) return 'null';\n            gap += indent;\n            partial = [];\n            \n            // Array.isArray\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n                length = value.length;\n                for (i = 0; i < length; i += 1) {\n                    partial[i] = str(i, value) || 'null';\n                }\n                \n                // Join all of the elements together, separated with commas, and\n                // wrap them in brackets.\n                v = partial.length === 0 ? '[]' : gap ?\n                    '[\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + ']' :\n                    '[' + partial.join(',') + ']';\n                gap = mind;\n                return v;\n            }\n            \n            // If the replacer is an array, use it to select the members to be\n            // stringified.\n            if (rep && typeof rep === 'object') {\n                length = rep.length;\n                for (i = 0; i < length; i += 1) {\n                    k = rep[i];\n                    if (typeof k === 'string') {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n            else {\n                // Otherwise, iterate through all of the keys in the object.\n                for (k in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n            \n        // Join all of the member texts together, separated with commas,\n        // and wrap them in braces.\n\n        v = partial.length === 0 ? '{}' : gap ?\n            '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + '}' :\n            '{' + partial.join(',') + '}';\n        gap = mind;\n        return v;\n    }\n}\n\nmodule.exports = function (value, replacer, space) {\n    var i;\n    gap = '';\n    indent = '';\n    \n    // If the space parameter is a number, make an indent string containing that\n    // many spaces.\n    if (typeof space === 'number') {\n        for (i = 0; i < space; i += 1) {\n            indent += ' ';\n        }\n    }\n    // If the space parameter is a string, it will be used as the indent string.\n    else if (typeof space === 'string') {\n        indent = space;\n    }\n\n    // If there is a replacer, it must be a function or an array.\n    // Otherwise, throw an error.\n    rep = replacer;\n    if (replacer && typeof replacer !== 'function'\n    && (typeof replacer !== 'object' || typeof replacer.length !== 'number')) {\n        throw new Error('JSON.stringify');\n    }\n    \n    // Make a fake root object containing our value under the key of ''.\n    // Return the result of stringifying the value.\n    return str('', {'': value});\n};\n","var json = typeof JSON !== 'undefined' ? JSON : require('jsonify');\n\nmodule.exports = function (obj, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var space = opts.space || '';\n    if (typeof space === 'number') space = Array(space+1).join(' ');\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n    var replacer = opts.replacer || function(key, value) { return value; };\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (parent, key, node, level) {\n        var indent = space ? ('\\n' + new Array(level + 1).join(space)) : '';\n        var colonSeparator = space ? ': ' : ':';\n\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        node = replacer.call(parent, key, node);\n\n        if (node === undefined) {\n            return;\n        }\n        if (typeof node !== 'object' || node === null) {\n            return json.stringify(node);\n        }\n        if (isArray(node)) {\n            var out = [];\n            for (var i = 0; i < node.length; i++) {\n                var item = stringify(node, i, node[i], level+1) || json.stringify(null);\n                out.push(indent + space + item);\n            }\n            return '[' + out.join(',') + indent + ']';\n        }\n        else {\n            if (seen.indexOf(node) !== -1) {\n                if (cycles) return json.stringify('__cycle__');\n                throw new TypeError('Converting circular structure to JSON');\n            }\n            else seen.push(node);\n\n            var keys = objectKeys(node).sort(cmp && cmp(node));\n            var out = [];\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                var value = stringify(node, key, node[key], level+1);\n\n                if(!value) continue;\n\n                var keyValue = json.stringify(key)\n                    + colonSeparator\n                    + value;\n                ;\n                out.push(indent + space + keyValue);\n            }\n            seen.splice(seen.indexOf(node), 1);\n            return '{' + out.join(',') + indent + '}';\n        }\n    })({ '': obj }, '', obj, 0);\n};\n\nvar isArray = Array.isArray || function (x) {\n    return {}.toString.call(x) === '[object Array]';\n};\n\nvar objectKeys = Object.keys || function (obj) {\n    var has = Object.prototype.hasOwnProperty || function () { return true };\n    var keys = [];\n    for (var key in obj) {\n        if (has.call(obj, key)) keys.push(key);\n    }\n    return keys;\n};\n"],"names":["re","t","BN","ne","de","e","a","TypeError","this","i","name","length","allowLess","default","Buffer","alias","allowZero","defineProperties","Object","defineProperty","enumerable","configurable","get","getSenderAddress","bind","s","bufferToInt","v","o","Math","floor","_chainId","chainId","_homestead","prototype","toCreationAddress","to","toString","hash","raw","slice","r","rlphash","getChainId","_from","getSenderPublicKey","publicToAddress","_senderPubKey","verifySignature","Error","cmp","ecrecover","sign","ecsign","assign","getDataFee","iaddn","oe","txDataZeroGas","txDataNonZeroGas","getBaseFee","txGas","txCreation","getUpfrontCost","gasLimit","imul","gasPrice","iadd","value","validate","push","join","y","w","b","_","call","isLocked","go","emit","stop","await","once","setTimeout","P","id","Date","getTime","pow","random","jsonrpc","params","R","C","B","S","setMaxListeners","sendAsync","_handleAsync","n","blockTrackerProvider","_blockTracker","blockTracker","provider","pollingInterval","setSkipCacheFlag","_ready","currentBlock","_providers","start","on","_getBlockByNumber","number","toBuffer","parentHash","nonce","mixHash","sha3Uncles","logsBloom","transactionsRoot","stateRoot","receiptsRoot","receiptRoot","miner","difficulty","totalDifficulty","size","extraData","gasUsed","timestamp","transactions","_setCurrentBlock","_running","removeAllListeners","isRunning","addProvider","splice","setEngine","removeProvider","indexOf","send","Array","isArray","method","skipCache","result","c","error","message","stack","code","unshift","handleRequest","N","A","engine","emitPayload","I","constructor","super","_constructorFn","middleware","M","cacheIdentifierForPayload","O","D","m","canCache","blockTagForPayload","L","paramsWithoutBlockTag","blockTagParamIndex","cacheTypeForPayload","U","F","j","cache","getBlockCacheForPayload","Number","parseInt","set","canCacheResult","canCacheRequest","includes","blockHash","clearBefore","keys","map","filter","forEach","H","_ref","arguments","undefined","perma","block","fork","u","async","getLatestBlock","d","q","V","W","G","staticResponses","J","_ref2","$","K","X","Y","nonceLock","l","getAccounts","processTransaction","processMessage","processPersonalMessage","processTypedMessage","processTypedMessageV3","approveTransaction","autoApprove","approveMessage","approvePersonalMessage","approveTypedMessage","approveTypedMessageV3","signTransaction","signMessage","signPersonalMessage","signTypedMessage","signTypedMessageV3","recoverPersonalSignature","publishTransaction","estimateGas","getGasPrice","Q","toLowerCase","Z","addHexPrefix","isValidAddress","ee","te","match","_parityRequests","_parityRequestCount","h","validateTransaction","processSignTransaction","from","data","validateMessage","console","warn","validatePersonalMessage","sig","validateTypedMessage","validateTypedMessageV3","parityPostTransaction","parityPostSign","parityCheckRequest","checkApproval","finalizeAndSubmitTx","finalizeTx","p","validateSender","take","fillInTxExtras","leave","tx","z","gas","f","E","ie","se","nonceCache","stripHexPrefix","ae","_ref3","events","g","ce","ERR_NOT_IN_IFRAME","ERR_CONNECTION_TIMEOUT","ERR_CONNECTION_DESTROYED","Promise","window","debug","log","apply","concat","then","localName","local","remote","remoteOrigin","reduce","addEventListener","source","origin","penpal","removeEventListener","returnValue","returnValueIsError","resolution","postMessage","methodName","args","connectToChild","url","appendTo","methods","timeout","document","createElement","body","appendChild","parentNode","removeChild","contentWindow","contentDocument","parentWindow","location","exec","protocol","hostname","port","promise","methodNames","clearTimeout","src","iframe","destroy","connectToParent","parentOrigin","top","parent","ue","le","nodeUrl","gasRelayHubAddress","mainnet","ropsten","rinkeby","goerli","ubiq","thundercoreTestnet","orchid","orchidTestnet","kovan","classic","sokol","core","xdai","thundercore","fuse","lightstreams","maticAlpha","maticTestnet","he","__awaiter","next","throw","done","pe","__generator","label","sent","trys","ops","return","Symbol","iterator","pop","fe","require","ge","me","ve","ye","getBlockByNumber","we","safeGas","simpleSend","gasLimitSpecified","be","Boolean","getCode","ke","Ee","mul","div","_e","muln","gt","lt","Te","Pe","Re","readyState","Ce","Blockchain","netID","toJSON","JSON","parse","xe","Be","Se","Ne","Ae","Ie","hasOwnProperty","Me","isArrayBuffer","isBuffer","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isObject","isUndefined","isDate","isFile","isBlob","isFunction","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","navigator","product","merge","extend","trim","replace","De","config","request","response","Oe","encodeURIComponent","Le","Ue","test","userAgent","setAttribute","href","host","search","pathname","charAt","Fe","write","toGMTString","cookie","read","RegExp","decodeURIComponent","remove","now","je","He","Ve","We","adapter","XMLHttpRequest","process","headers","auth","username","password","Authorization","btoa","open","toUpperCase","toISOString","stringify","paramsSerializer","onreadystatechange","status","responseURL","getAllResponseHeaders","split","substr","responseType","responseText","statusText","validateStatus","onerror","ontimeout","withCredentials","xsrfCookieName","xsrfHeaderName","setRequestHeader","onDownloadProgress","onUploadProgress","upload","cancelToken","abort","transformRequest","transformResponse","maxContentLength","common","Accept","Ge","Je","handlers","use","fulfilled","rejected","eject","ze","$e","Ke","__CANCEL__","Xe","throwIfRequested","Ye","baseURL","reject","Qe","defaults","interceptors","resolve","shift","Ze","et","tt","nt","reason","token","cancel","rt","ot","it","Axios","create","Cancel","CancelToken","isCancel","all","spread","st","at","ct","ut","dt","pt","Node","network","ip","ipPort","isValid","isEqual","sendRelay","configuration","requestTimeOut","post","ft","Dispatch","axiosInstance","path","blockchainsJSON","blockchains","retrieveServiceNodes","DevID","devID","Blockchains","parseDispatchResponse","netid","ips","mt","Relay","blockchain","NetID","Data","vt","Report","IP","Message","yt","Wallet","address","privateKey","networkID","wt","exports","bt","_t","kt","Et","Tt","maxNodes","nodes","dispatch","nodesIsEmpty","Pt","Pocket","networkName","netIDs","createRelay","createReport","getDispatch","getNode","retrieveNodes","sendReport","Rt","Ct","xt","Bt","style","width","height","border","position","left","_widgetUrl","_valiadateParams","dappId","gasRelay","version","scope","registerPageByDefault","widget","_initWidget","_initProvider","changeNetwork","clearSubprovider","setDefaultEmail","defaultEmail","showPortis","communication","logout","onLogin","_onLoginCallback","onLogout","_onLogoutCallback","onActiveWalletChanged","_onActiveWalletChangedCallback","onError","_onErrorCallback","getExtendedPublicKey","importWallet","isLoggedIn","signBitcoinTransaction","showBitcoinWallet","contains","innerHTML","className","head","getElementById","setHeight","_setHeight","getWindowSize","_getWindowSize","_onLogin","_onLogout","_onActiveWalletChanged","_onError","retrieveSession","widgetFrame","_selectedAddress","_network","web3_clientVersion","net_listening","eth_hashrate","eth_mining","eth_syncing","messageStandard","pocketDevId","networkVersion","relay","enable","isConnected","isPortis","getElementsByTagName","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","find","text","isFinite","String","fromCharCode","lastIndex","charCodeAt","space","cycles","replacer","key","sort"],"sourceRoot":""}